<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>DMA Friends: DMA\Friends\Classes\ActivityForm Class Reference</title>
<!--<link href="../../tabs.css" rel="stylesheet" type="text/css"/>-->
<!--<script type="text/javascript" src="../../jquery.js"></script>-->
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="bootstrap3/css/bootstrap.min.css" rel="stylesheet">
<script src="bootstrap3/js/jquery-2.1.1.min.js"></script>
<script src="bootstrap3/js/bootstrap.min.js"></script>
<script type="text/javascript" src="doxy-boot.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DMA Friends
   &#160;<span id="projectnumber">2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d2/d01/namespaceDMA.html">DMA</a></li><li class="navelem"><b>Friends</b></li><li class="navelem"><b>Classes</b></li><li class="navelem"><a class="el" href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html">ActivityForm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../de/dc0/classDMA_1_1Friends_1_1Classes_1_1ActivityForm-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DMA\Friends\Classes\ActivityForm Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for DMA\Friends\Classes\ActivityForm:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.png" usemap="#DMA\Friends\Classes\ActivityForm_map" alt=""/>
  <map id="DMA\Friends\Classes\ActivityForm_map" name="DMA\Friends\Classes\ActivityForm_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afcb45ea0cd733979ad0429595a497223"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afcb45ea0cd733979ad0429595a497223"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__construct</b> (<a class="el" href="../../d0/d48/classDMA_1_1Friends_1_1Classes_1_1ActivityManager.html">ActivityManager</a> $manager, $model, $fieldName)</td></tr>
<tr class="separator:afcb45ea0cd733979ad0429595a497223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afac6868b7400de0a27bd9940db9bb43d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#afac6868b7400de0a27bd9940db9bb43d">render</a> ()</td></tr>
<tr class="separator:afac6868b7400de0a27bd9940db9bb43d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67f1c67ad0885f8ade7cc055db01d36a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#a67f1c67ad0885f8ade7cc055db01d36a">getViewPath</a> ($fileName, $viewPath=null)</td></tr>
<tr class="separator:a67f1c67ad0885f8ade7cc055db01d36a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a903a1043ee05a6f169d5aea07ef0bb79"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#a903a1043ee05a6f169d5aea07ef0bb79">renderField</a> ($field, $options=[])</td></tr>
<tr class="separator:a903a1043ee05a6f169d5aea07ef0bb79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7d19395c670391b052793e77fd364f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#ab7d19395c670391b052793e77fd364f2">getFieldValue</a> ($field)</td></tr>
<tr class="separator:ab7d19395c670391b052793e77fd364f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a105d514226be33dec93db56dbfe61ff1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#a105d514226be33dec93db56dbfe61ff1">getFieldName</a> ($field)</td></tr>
<tr class="separator:a105d514226be33dec93db56dbfe61ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7e6de46fdaa48ef75743de550e0c87b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#ae7e6de46fdaa48ef75743de550e0c87b">getFieldDepends</a> ($field)</td></tr>
<tr class="separator:ae7e6de46fdaa48ef75743de550e0c87b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a5fbcb361a17abaa69b260df1a4a94b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#a5a5fbcb361a17abaa69b260df1a4a94b">renderFieldElement</a> ($field)</td></tr>
<tr class="separator:a5a5fbcb361a17abaa69b260df1a4a94b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab9f1445590940a3564581d3481b942c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab9f1445590940a3564581d3481b942c5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$fields</b> = []</td></tr>
<tr class="separator:ab9f1445590940a3564581d3481b942c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ba33a73e3e8269a24e2b1b37b8778a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac7ba33a73e3e8269a24e2b1b37b8778a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$previewMode</b> = false</td></tr>
<tr class="separator:ac7ba33a73e3e8269a24e2b1b37b8778a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a8e64eb3aac3a88edbbc67700f40f7f61"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#a8e64eb3aac3a88edbbc67700f40f7f61">makeFormField</a> ($name, $config)</td></tr>
<tr class="separator:a8e64eb3aac3a88edbbc67700f40f7f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a6625f7f805756ad348523c8efc7eaba2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6625f7f805756ad348523c8efc7eaba2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$manager</b></td></tr>
<tr class="separator:a6625f7f805756ad348523c8efc7eaba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa057e497b595e91ff28b7d82d453a19"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afa057e497b595e91ff28b7d82d453a19"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$model</b></td></tr>
<tr class="separator:afa057e497b595e91ff28b7d82d453a19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a661164febcd7fafdb40b95f4fceb0539"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a661164febcd7fafdb40b95f4fceb0539"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$partialsDir</b> = '@/modules/backend/widgets/form/partials/'</td></tr>
<tr class="separator:a661164febcd7fafdb40b95f4fceb0539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bba50ae9e6c7fe7fd5cbaa8dcf7a976"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7bba50ae9e6c7fe7fd5cbaa8dcf7a976"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$data</b> = []</td></tr>
<tr class="separator:a7bba50ae9e6c7fe7fd5cbaa8dcf7a976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae59dff70c79843060bc487578fae0846"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae59dff70c79843060bc487578fae0846"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$fieldName</b></td></tr>
<tr class="separator:ae59dff70c79843060bc487578fae0846"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae7e6de46fdaa48ef75743de550e0c87b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DMA\Friends\Classes\ActivityForm::getFieldDepends </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$field</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a HTML encoded value containing the other fields this field depends on </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">use</td><td>Backend $field </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>
<div class="fragment"><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">if</span> (!$field-&gt;depends) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        $depends = is_array($field-&gt;depends) ? $field-&gt;depends : [$field-&gt;depends];</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        $depends = htmlspecialchars(json_encode($depends), ENT_QUOTES, <span class="stringliteral">&#39;UTF-8&#39;</span>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">return</span> $depends;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a105d514226be33dec93db56dbfe61ff1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DMA\Friends\Classes\ActivityForm::getFieldName </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$field</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parses a field's name </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>Field name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array [columnName, context] </dd></dl>
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        $field = $this-&gt;fieldName . <span class="charliteral">&#39;[&#39;</span> . $field . <span class="charliteral">&#39;]&#39;</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">if</span> (strpos($field, <span class="charliteral">&#39;@&#39;</span>) === <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">return</span> [$field, null];</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">return</span> explode(<span class="charliteral">&#39;@&#39;</span>, $field);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab7d19395c670391b052793e77fd364f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DMA\Friends\Classes\ActivityForm::getFieldValue </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$field</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Looks up the column </p>
<div class="fragment"><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">if</span> (is_string($field)) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="keywordflow">if</span> (!isset($this-&gt;fields[$field])) {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ApplicationException(Lang::get(</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                    <span class="stringliteral">&#39;backend::lang.form.missing_definition&#39;</span>,</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                    compact(<span class="stringliteral">&#39;field&#39;</span>)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                ));</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            $field = $this-&gt;fields[$field];</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        $fieldName = $field-&gt;fieldName;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        $defaultValue = strlen($field-&gt;defaults) ? $field-&gt;defaults : null;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">         * Array field name, eg: field[key][key2][key3]</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        $keyParts   = Str::evalHtmlArray($fieldName);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        $lastField  = end($keyParts);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        $result     = $this-&gt;data;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="comment">// Sub fields are always the last field in the array</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">return</span> $result[$lastField];</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a67f1c67ad0885f8ade7cc055db01d36a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DMA\Friends\Classes\ActivityForm::getViewPath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$viewPath</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locates a file based on it's definition. If the file starts with an "at symbol", it will be returned in context of the application base path, otherwise it will be returned in context of the view path. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fileName</td><td>File to load. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$viewPath</td><td>Explicitly define a view path. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Full path to the view file. </dd></dl>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        $fileName = File::symbolizePath($fileName, $fileName);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">if</span> (File::isLocalPath($fileName) || realpath($fileName) !== <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="keywordflow">return</span> $fileName;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            $path = $this-&gt;partialsDir . $fileName;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keywordflow">return</span> File::symbolizePath($path, $path);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8e64eb3aac3a88edbbc67700f40f7f61"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DMA\Friends\Classes\ActivityForm::makeFormField </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a form field object from name and configuration. </p>
<div class="fragment"><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        $label = (isset($config[<span class="stringliteral">&#39;label&#39;</span>])) ? $config[<span class="stringliteral">&#39;label&#39;</span>] : null;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        list($fieldName, $fieldContext) = $this-&gt;<a class="code" href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#a105d514226be33dec93db56dbfe61ff1">getFieldName</a>($name);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        $field = <span class="keyword">new</span> FormField($fieldName, $label);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">if</span> ($fieldContext) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            $field-&gt;context = $fieldContext;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        $field-&gt;idPrefix = $this-&gt;getId();</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">         * Simple field type</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">if</span> (is_string($config)) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            $field-&gt;displayAs($config);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">         * Defined field type</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            $fieldType = isset($config[<span class="stringliteral">&#39;type&#39;</span>]) ? $config[<span class="stringliteral">&#39;type&#39;</span>] : null;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordflow">if</span> (!is_string($fieldType) &amp;&amp; !is_null($fieldType)) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ApplicationException(Lang::get(</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                    <span class="stringliteral">&#39;backend::lang.field.invalid_type&#39;</span>,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    [<span class="stringliteral">&#39;type&#39;</span>=&gt;gettype($fieldType)]</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                ));</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            $field-&gt;displayAs($fieldType, $config);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">         * Set field value</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        $field-&gt;value = $this-&gt;<a class="code" href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#ab7d19395c670391b052793e77fd364f2">getFieldValue</a>($field);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">         * Get field options from model</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        $optionModelTypes = [<span class="stringliteral">&#39;dropdown&#39;</span>, <span class="stringliteral">&#39;radio&#39;</span>, <span class="stringliteral">&#39;checkboxlist&#39;</span>, <span class="stringliteral">&#39;balloon-selector&#39;</span>];</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">if</span> (in_array($field-&gt;type, $optionModelTypes)) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">             * Defer the execution of option data collection</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            $field-&gt;options(<span class="keyword">function</span> () use ($field, $config) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                $fieldOptions = (isset($config[<span class="stringliteral">&#39;options&#39;</span>])) ? $config[<span class="stringliteral">&#39;options&#39;</span>] : null;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                $fieldOptions = $this-&gt;getOptionsFromModel($field, $fieldOptions);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                <span class="keywordflow">return</span> $fieldOptions;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            });</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">return</span> $field;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div>
<div class="ttc" id="classDMA_1_1Friends_1_1Classes_1_1ActivityForm_html_ab7d19395c670391b052793e77fd364f2"><div class="ttname"><a href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#ab7d19395c670391b052793e77fd364f2">DMA\Friends\Classes\ActivityForm\getFieldValue</a></div><div class="ttdeci">getFieldValue($field)</div><div class="ttdef"><b>Definition:</b> ActivityForm.php:195</div></div>
<div class="ttc" id="classDMA_1_1Friends_1_1Classes_1_1ActivityForm_html_a105d514226be33dec93db56dbfe61ff1"><div class="ttname"><a href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#a105d514226be33dec93db56dbfe61ff1">DMA\Friends\Classes\ActivityForm\getFieldName</a></div><div class="ttdeci">getFieldName($field)</div><div class="ttdef"><b>Definition:</b> ActivityForm.php:228</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afac6868b7400de0a27bd9940db9bb43d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DMA\Friends\Classes\ActivityForm::render </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Render a group of form elements </p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        $fields = [];</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">foreach</span>($this-&gt;fields as $name =&gt; $field) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            $field = $this-&gt;<a class="code" href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#a8e64eb3aac3a88edbbc67700f40f7f61">makeFormField</a>($name, $field);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            $fields[] = $this-&gt;<a class="code" href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#a903a1043ee05a6f169d5aea07ef0bb79">renderField</a>($field);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">return</span> implode(<span class="stringliteral">&quot;&lt;br/&gt;&quot;</span>, $fields);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div>
<div class="ttc" id="classDMA_1_1Friends_1_1Classes_1_1ActivityForm_html_a8e64eb3aac3a88edbbc67700f40f7f61"><div class="ttname"><a href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#a8e64eb3aac3a88edbbc67700f40f7f61">DMA\Friends\Classes\ActivityForm\makeFormField</a></div><div class="ttdeci">makeFormField($name, $config)</div><div class="ttdef"><b>Definition:</b> ActivityForm.php:135</div></div>
<div class="ttc" id="classDMA_1_1Friends_1_1Classes_1_1ActivityForm_html_a903a1043ee05a6f169d5aea07ef0bb79"><div class="ttname"><a href="../../d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm.html#a903a1043ee05a6f169d5aea07ef0bb79">DMA\Friends\Classes\ActivityForm\renderField</a></div><div class="ttdeci">renderField($field, $options=[])</div><div class="ttdef"><b>Definition:</b> ActivityForm.php:110</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a903a1043ee05a6f169d5aea07ef0bb79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DMA\Friends\Classes\ActivityForm::renderField </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$options</em> = <code>[]</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Renders a single form field </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>field name or field object </td></tr>
    <tr><td class="paramname">array</td><td>An array of options </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">if</span> (is_string($field)) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">if</span> (!isset($this-&gt;fields[$field])) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ApplicationException(Lang::get(</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    <span class="stringliteral">&#39;backend::lang.form.missing_definition&#39;</span>,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    compact(<span class="stringliteral">&#39;field&#39;</span>)</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                ));</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            $field = $this-&gt;fields[$field];</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">if</span> (!isset($options[<span class="stringliteral">&#39;useContainer&#39;</span>])) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            $options[<span class="stringliteral">&#39;useContainer&#39;</span>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        $targetPartial = $options[<span class="stringliteral">&#39;useContainer&#39;</span>] ? <span class="stringliteral">&#39;_field-container.htm&#39;</span> : <span class="stringliteral">&#39;_field.htm&#39;</span>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        $targetPartial = $this-&gt;partialsDir . $targetPartial;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">return</span> $this-&gt;makePartial($targetPartial, [<span class="stringliteral">&#39;field&#39;</span> =&gt; $field]);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5a5fbcb361a17abaa69b260df1a4a94b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DMA\Friends\Classes\ActivityForm::renderFieldElement </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$field</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Renders the HTML element for a field </p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">return</span> $this-&gt;makePartial(<span class="stringliteral">&#39;field_&#39;</span>.$field-&gt;type, [<span class="stringliteral">&#39;field&#39;</span> =&gt; $field]);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>classes/ActivityForm.php</li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 28 2014 18:12:51 for DMA Friends by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
