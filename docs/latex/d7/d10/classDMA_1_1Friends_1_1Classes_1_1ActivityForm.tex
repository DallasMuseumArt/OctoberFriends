\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm}{\section{D\+M\+A\textbackslash{}Friends\textbackslash{}Classes\textbackslash{}Activity\+Form Class Reference}
\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm}\index{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Activity\+Form@{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Activity\+Form}}
}
Inheritance diagram for D\+M\+A\textbackslash{}Friends\textbackslash{}Classes\textbackslash{}Activity\+Form\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{d7/d10/classDMA_1_1Friends_1_1Classes_1_1ActivityForm}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_afcb45ea0cd733979ad0429595a497223}{{\bfseries \+\_\+\+\_\+construct} (\hyperlink{classDMA_1_1Friends_1_1Classes_1_1ActivityManager}{Activity\+Manager} \$manager, \$model, \$field\+Name)}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_afcb45ea0cd733979ad0429595a497223}

\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_afac6868b7400de0a27bd9940db9bb43d}{render} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a67f1c67ad0885f8ade7cc055db01d36a}{get\+View\+Path} (\$file\+Name, \$view\+Path=null)
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a903a1043ee05a6f169d5aea07ef0bb79}{render\+Field} (\$field, \$options=\mbox{[}$\,$\mbox{]})
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_ab7d19395c670391b052793e77fd364f2}{get\+Field\+Value} (\$field)
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a105d514226be33dec93db56dbfe61ff1}{get\+Field\+Name} (\$field)
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_ae7e6de46fdaa48ef75743de550e0c87b}{get\+Field\+Depends} (\$field)
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a5a5fbcb361a17abaa69b260df1a4a94b}{render\+Field\+Element} (\$field)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_ab9f1445590940a3564581d3481b942c5}{{\bfseries \$fields} = \mbox{[}$\,$\mbox{]}}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_ab9f1445590940a3564581d3481b942c5}

\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_ac7ba33a73e3e8269a24e2b1b37b8778a}{{\bfseries \$preview\+Mode} = false}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_ac7ba33a73e3e8269a24e2b1b37b8778a}

\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a8e64eb3aac3a88edbbc67700f40f7f61}{make\+Form\+Field} (\$name, \$config)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a6625f7f805756ad348523c8efc7eaba2}{{\bfseries \$manager}}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a6625f7f805756ad348523c8efc7eaba2}

\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_afa057e497b595e91ff28b7d82d453a19}{{\bfseries \$model}}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_afa057e497b595e91ff28b7d82d453a19}

\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a661164febcd7fafdb40b95f4fceb0539}{{\bfseries \$partials\+Dir} = '@/modules/backend/widgets/form/partials/'}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a661164febcd7fafdb40b95f4fceb0539}

\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a7bba50ae9e6c7fe7fd5cbaa8dcf7a976}{{\bfseries \$data} = \mbox{[}$\,$\mbox{]}}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a7bba50ae9e6c7fe7fd5cbaa8dcf7a976}

\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_ae59dff70c79843060bc487578fae0846}{{\bfseries \$field\+Name}}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_ae59dff70c79843060bc487578fae0846}

\end{DoxyCompactItemize}


\subsection{Member Function Documentation}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_ae7e6de46fdaa48ef75743de550e0c87b}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}!get\+Field\+Depends@{get\+Field\+Depends}}
\index{get\+Field\+Depends@{get\+Field\+Depends}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}}
\subsubsection[{get\+Field\+Depends}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Activity\+Form\+::get\+Field\+Depends (
\begin{DoxyParamCaption}
\item[{}]{\$field}
\end{DoxyParamCaption}
)}}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_ae7e6de46fdaa48ef75743de550e0c87b}
Returns a H\+T\+M\+L encoded value containing the other fields this field depends on 
\begin{DoxyParams}{Parameters}
{\em use} & Backend \$field \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}

\begin{DoxyCode}
240     \{
241         \textcolor{keywordflow}{if} (!$field->depends) \{
242             \textcolor{keywordflow}{return};
243         \}
244 
245         $depends = is\_array($field->depends) ? $field->depends : [$field->depends];
246         $depends = htmlspecialchars(json\_encode($depends), ENT\_QUOTES, \textcolor{stringliteral}{'UTF-8'});
247         \textcolor{keywordflow}{return} $depends;
248     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a105d514226be33dec93db56dbfe61ff1}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}!get\+Field\+Name@{get\+Field\+Name}}
\index{get\+Field\+Name@{get\+Field\+Name}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}}
\subsubsection[{get\+Field\+Name}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Activity\+Form\+::get\+Field\+Name (
\begin{DoxyParamCaption}
\item[{}]{\$field}
\end{DoxyParamCaption}
)}}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a105d514226be33dec93db56dbfe61ff1}
Parses a field's name 
\begin{DoxyParams}[1]{Parameters}
string & {\em \$field} & Field name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array \mbox{[}column\+Name, context\mbox{]} 
\end{DoxyReturn}

\begin{DoxyCode}
223     \{
224         $field = $this->fieldName . \textcolor{charliteral}{'['} . $field . \textcolor{charliteral}{']'};
225 
226         \textcolor{keywordflow}{if} (strpos($field, \textcolor{charliteral}{'@'}) === \textcolor{keyword}{false}) \{
227             \textcolor{keywordflow}{return} [$field, null];
228         \}
229 
230         \textcolor{keywordflow}{return} explode(\textcolor{charliteral}{'@'}, $field);
231     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_ab7d19395c670391b052793e77fd364f2}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}!get\+Field\+Value@{get\+Field\+Value}}
\index{get\+Field\+Value@{get\+Field\+Value}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}}
\subsubsection[{get\+Field\+Value}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Activity\+Form\+::get\+Field\+Value (
\begin{DoxyParamCaption}
\item[{}]{\$field}
\end{DoxyParamCaption}
)}}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_ab7d19395c670391b052793e77fd364f2}
Looks up the column 
\begin{DoxyCode}
190     \{
191         \textcolor{keywordflow}{if} (is\_string($field)) \{
192             \textcolor{keywordflow}{if} (!isset($this->fields[$field])) \{
193                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} ApplicationException(Lang::get(
194                     \textcolor{stringliteral}{'backend::lang.form.missing\_definition'},
195                     compact(\textcolor{stringliteral}{'field'})
196                 ));
197             \}
198 
199             $field = $this->fields[$field];
200         \}
201 
202         $fieldName = $field->fieldName;
203 
204         $defaultValue = strlen($field->defaults) ? $field->defaults : null;
205 
206         \textcolor{comment}{/*}
207 \textcolor{comment}{         * Array field name, eg: field[key][key2][key3]}
208 \textcolor{comment}{         */}
209         $keyParts   = Str::evalHtmlArray($fieldName);
210         $lastField  = end($keyParts);
211         $result     = $this->data;
212 
213         \textcolor{comment}{// Sub fields are always the last field in the array}
214         \textcolor{keywordflow}{return} $result[$lastField];
215     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a67f1c67ad0885f8ade7cc055db01d36a}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}!get\+View\+Path@{get\+View\+Path}}
\index{get\+View\+Path@{get\+View\+Path}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}}
\subsubsection[{get\+View\+Path}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Activity\+Form\+::get\+View\+Path (
\begin{DoxyParamCaption}
\item[{}]{\$file\+Name, }
\item[{}]{\$view\+Path = {\ttfamily null}}
\end{DoxyParamCaption}
)}}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a67f1c67ad0885f8ade7cc055db01d36a}
Locates a file based on it's definition. If the file starts with an \char`\"{}at symbol\char`\"{}, it will be returned in context of the application base path, otherwise it will be returned in context of the view path. 
\begin{DoxyParams}[1]{Parameters}
string & {\em \$file\+Name} & File to load. \\
\hline
mixed & {\em \$view\+Path} & Explicitly define a view path. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string Full path to the view file. 
\end{DoxyReturn}

\begin{DoxyCode}
86     \{
87 
88         $fileName = File::symbolizePath($fileName, $fileName);
89 
90         \textcolor{keywordflow}{if} (File::isLocalPath($fileName) || realpath($fileName) !== \textcolor{keyword}{false}) \{
91             \textcolor{keywordflow}{return} $fileName;
92         \} \textcolor{keywordflow}{else} \{
93             $path = $this->partialsDir . $fileName;
94             \textcolor{keywordflow}{return} File::symbolizePath($path, $path);
95         \}
96 
97     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a8e64eb3aac3a88edbbc67700f40f7f61}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}!make\+Form\+Field@{make\+Form\+Field}}
\index{make\+Form\+Field@{make\+Form\+Field}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}}
\subsubsection[{make\+Form\+Field}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Activity\+Form\+::make\+Form\+Field (
\begin{DoxyParamCaption}
\item[{}]{\$name, }
\item[{}]{\$config}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a8e64eb3aac3a88edbbc67700f40f7f61}
Creates a form field object from name and configuration. 
\begin{DoxyCode}
130     \{
131         $label = (isset($config[\textcolor{stringliteral}{'label'}])) ? $config[\textcolor{stringliteral}{'label'}] : null;
132         list($fieldName, $fieldContext) = $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a105d514226be33dec93db56dbfe61ff1}{getFieldName}($name);
133 
134         $field = \textcolor{keyword}{new} FormField($fieldName, $label);
135         \textcolor{keywordflow}{if} ($fieldContext) \{
136             $field->context = $fieldContext;
137         \}
138         $field->idPrefix = $this->getId();
139 
140         \textcolor{comment}{/*}
141 \textcolor{comment}{         * Simple field type}
142 \textcolor{comment}{         */}
143         \textcolor{keywordflow}{if} (is\_string($config)) \{
144             $field->displayAs($config);
145         \textcolor{comment}{/*}
146 \textcolor{comment}{         * Defined field type}
147 \textcolor{comment}{         */}
148         \} \textcolor{keywordflow}{else} \{
149 
150             $fieldType = isset($config[\textcolor{stringliteral}{'type'}]) ? $config[\textcolor{stringliteral}{'type'}] : null;
151             \textcolor{keywordflow}{if} (!is\_string($fieldType) && !is\_null($fieldType)) \{
152                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} ApplicationException(Lang::get(
153                     \textcolor{stringliteral}{'backend::lang.field.invalid\_type'},
154                     [\textcolor{stringliteral}{'type'}=>gettype($fieldType)]
155                 ));
156             \}
157 
158             $field->displayAs($fieldType, $config);
159 
160         \}
161 
162         \textcolor{comment}{/*}
163 \textcolor{comment}{         * Set field value}
164 \textcolor{comment}{         */}
165         $field->value = $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_ab7d19395c670391b052793e77fd364f2}{getFieldValue}($field);
166 
167         \textcolor{comment}{/*}
168 \textcolor{comment}{         * Get field options from model}
169 \textcolor{comment}{         */}
170         $optionModelTypes = [\textcolor{stringliteral}{'dropdown'}, \textcolor{stringliteral}{'radio'}, \textcolor{stringliteral}{'checkboxlist'}, \textcolor{stringliteral}{'balloon-selector'}];
171         \textcolor{keywordflow}{if} (in\_array($field->type, $optionModelTypes)) \{
172 
173             \textcolor{comment}{/*}
174 \textcolor{comment}{             * Defer the execution of option data collection}
175 \textcolor{comment}{             */}
176             $field->options(\textcolor{keyword}{function} () use ($field, $config) \{
177                 $fieldOptions = (isset($config[\textcolor{stringliteral}{'options'}])) ? $config[\textcolor{stringliteral}{'options'}] : null;
178                 $fieldOptions = $this->getOptionsFromModel($field, $fieldOptions);
179                 \textcolor{keywordflow}{return} $fieldOptions;
180             \});
181         \}
182 
183         \textcolor{keywordflow}{return} $field;
184     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_afac6868b7400de0a27bd9940db9bb43d}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}!render@{render}}
\index{render@{render}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}}
\subsubsection[{render}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Activity\+Form\+::render (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_afac6868b7400de0a27bd9940db9bb43d}
Render a group of form elements 
\begin{DoxyCode}
65     \{
66         $fields = [];
67 
68         \textcolor{keywordflow}{foreach}($this->fields as $name => $field) \{
69             $field = $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a8e64eb3aac3a88edbbc67700f40f7f61}{makeFormField}($name, $field);
70 
71             $fields[] = $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a903a1043ee05a6f169d5aea07ef0bb79}{renderField}($field);
72         \}
73 
74         \textcolor{keywordflow}{return} implode(\textcolor{stringliteral}{"<br/>"}, $fields);
75     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a903a1043ee05a6f169d5aea07ef0bb79}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}!render\+Field@{render\+Field}}
\index{render\+Field@{render\+Field}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}}
\subsubsection[{render\+Field}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Activity\+Form\+::render\+Field (
\begin{DoxyParamCaption}
\item[{}]{\$field, }
\item[{}]{\$options = {\ttfamily \mbox{[}\mbox{]}}}
\end{DoxyParamCaption}
)}}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a903a1043ee05a6f169d5aea07ef0bb79}
Renders a single form field 
\begin{DoxyParams}{Parameters}
{\em A} & field name or field object \\
\hline
{\em array} & An array of options \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
105     \{
106         \textcolor{keywordflow}{if} (is\_string($field)) \{
107             \textcolor{keywordflow}{if} (!isset($this->fields[$field])) \{
108                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} ApplicationException(Lang::get(
109                     \textcolor{stringliteral}{'backend::lang.form.missing\_definition'},
110                     compact(\textcolor{stringliteral}{'field'})
111                 ));
112             \}
113 
114             $field = $this->fields[$field];
115         \}
116 
117         \textcolor{keywordflow}{if} (!isset($options[\textcolor{stringliteral}{'useContainer'}])) \{
118             $options[\textcolor{stringliteral}{'useContainer'}] = \textcolor{keyword}{true};
119         \}
120         $targetPartial = $options[\textcolor{stringliteral}{'useContainer'}] ? \textcolor{stringliteral}{'\_field-container.htm'} : \textcolor{stringliteral}{'\_field.htm'};
121         $targetPartial = $this->partialsDir . $targetPartial;
122 
123         \textcolor{keywordflow}{return} $this->makePartial($targetPartial, [\textcolor{stringliteral}{'field'} => $field]);
124     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a5a5fbcb361a17abaa69b260df1a4a94b}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}!render\+Field\+Element@{render\+Field\+Element}}
\index{render\+Field\+Element@{render\+Field\+Element}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Activity\+Form}}
\subsubsection[{render\+Field\+Element}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Activity\+Form\+::render\+Field\+Element (
\begin{DoxyParamCaption}
\item[{}]{\$field}
\end{DoxyParamCaption}
)}}\label{classDMA_1_1Friends_1_1Classes_1_1ActivityForm_a5a5fbcb361a17abaa69b260df1a4a94b}
Renders the H\+T\+M\+L element for a field 
\begin{DoxyCode}
254     \{
255         \textcolor{keywordflow}{return} $this->makePartial(\textcolor{stringliteral}{'field\_'}.$field->type, [\textcolor{stringliteral}{'field'} => $field]);
256     \}
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
classes/Activity\+Form.\+php\end{DoxyCompactItemize}
