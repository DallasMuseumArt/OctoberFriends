\hypertarget{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource}{}\section{D\+M\+A\textbackslash{}Friends\textbackslash{}A\+P\+I\textbackslash{}Resources\textbackslash{}User\+Resource Class Reference}
\label{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource}\index{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Resources\textbackslash{}\+User\+Resource@{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Resources\textbackslash{}\+User\+Resource}}
Inheritance diagram for D\+M\+A\textbackslash{}Friends\textbackslash{}A\+P\+I\textbackslash{}Resources\textbackslash{}User\+Resource\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{dd/d80/classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a5b15a62edfd5659a9ce766093a6928c5}{}{\bfseries get\+Transformer} ()\label{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a5b15a62edfd5659a9ce766093a6928c5}

\item 
\hyperlink{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a74eb37fa96dc48f66e645d72299b1ba2}{login} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a9d547fde7254643cdaf12cbd5aaca6b4}{show} (\$id)
\item 
\hyperlink{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a78fa83854826d9c71e7a399d56fa2876}{index} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_ace3ce0115f61b8a7425aa9d0a0a92b02}{store} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a94ae693b3b200f00bb6f78d27fd74e32}{update} (\$id)
\item 
\hyperlink{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a9a6d30979f3f0e54bb951a612c33dca1}{upload\+Avatar} (\$user\+Id)
\item 
\hyperlink{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a698c671fe201a8881ecee9b4378bf0ec}{profile\+Options} (\$field=null)
\item 
\hyperlink{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_adefa93e29cac582db01b6a49d71184ec}{user\+Activities} (\$user\+Id)
\item 
\hyperlink{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a738d1d0ddb9e7dccfeef8148985ca24e}{user\+Rewards} (\$user\+Id)
\item 
\hyperlink{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_aa4e6aab6b30d21ca50809a092d16b8df}{user\+Badges} (\$user\+Id)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a0ee667d96cfd9f413926262617d5137a}{}{\bfseries \$model} = \textquotesingle{}\textbackslash{}Rain\+Lab\textbackslash{}\+User\textbackslash{}\+Models\textbackslash{}\+User\textquotesingle{}\label{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a0ee667d96cfd9f413926262617d5137a}

\item 
\hypertarget{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a8c605a656148290ab8753ac018e28d7b}{}{\bfseries \$transformer} = \textquotesingle{}\textbackslash{}\hyperlink{classDMA_1_1Friends_1_1API_1_1Transformers_1_1UserTransformer}{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Transformers\textbackslash{}\+User\+Transformer}\textquotesingle{}\label{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a8c605a656148290ab8753ac018e28d7b}

\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Member Function Documentation}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a78fa83854826d9c71e7a399d56fa2876}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}!index@{index}}
\index{index@{index}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}}
\subsubsection[{index}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Resources\textbackslash{}\+User\+Resource\+::index (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a78fa83854826d9c71e7a399d56fa2876}
( path=\char`\"{}users\char`\"{}, summary=\char`\"{}\+Returns all users\char`\"{}, description=\char`\"{}\+Returns all users\char`\"{}, tags=\{ \char`\"{}user\char`\"{}\},

( ref=\char`\"{}\#/parameters/per\+\_\+page\char`\"{} ), ( ref=\char`\"{}\#/parameters/page\char`\"{} ), ( ref=\char`\"{}\#/parameters/sort\char`\"{} ),

( response=200, description=\char`\"{}\+Successful response\char`\"{}, (ref=\char`\"{}\#/definitions/user\char`\"{}, type=\char`\"{}array\char`\"{}) ), ( response=500, description=\char`\"{}\+Unexpected error\char`\"{}, (ref=\char`\"{}\#/definitions/error500\char`\"{}) ), ( response=404, description=\char`\"{}\+Not Found\char`\"{}, (ref=\char`\"{}\#/definitions/error404\char`\"{}) ) ) 
\begin{DoxyCode}
234     \{
235         \textcolor{keywordflow}{return} parent::index();
236     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a74eb37fa96dc48f66e645d72299b1ba2}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}!login@{login}}
\index{login@{login}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}}
\subsubsection[{login}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Resources\textbackslash{}\+User\+Resource\+::login (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a74eb37fa96dc48f66e645d72299b1ba2}
( definition=\char`\"{}request.\+user.\+credentials\char`\"{}, required=\{\char`\"{}username\char`\"{}, \char`\"{}password\char`\"{}\}, ( property=\char`\"{}username\char`\"{}, type=\char`\"{}string\char`\"{} ), ( property=\char`\"{}password\char`\"{}, type=\char`\"{}string\char`\"{} ) )

( path=\char`\"{}users/login\char`\"{}, description=\char`\"{}\+Authenticate user using username and password\char`\"{}, summary=\char`\"{}\+User authentication\char`\"{}, tags=\{ \char`\"{}user\char`\"{}\},

( description=\char`\"{}\+User credentials payload\char`\"{}, name=\char`\"{}body\char`\"{}, in=\char`\"{}body\char`\"{}, required=true, schema=(ref=\char`\"{}\#/definitions/request.\+user.\+credentials\char`\"{}) ), ( response=200, description=\char`\"{}\+Successful response\char`\"{}, (ref=\char`\"{}\#/definitions/user.\+extended\char`\"{}) ), ( response=500, description=\char`\"{}\+Unexpected error\char`\"{}, (ref=\char`\"{}\#/definitions/error500\char`\"{}) ), ( response=404, description=\char`\"{}\+User not found\char`\"{}, (ref=\char`\"{}\#/definitions/\+User\+Error404\char`\"{}) ) ) 
\begin{DoxyCode}
106     \{
107 
108         $data = Request::all();
109         
110         \textcolor{comment}{// TODO : I think this logic should be centralized }
111         \textcolor{comment}{// Base on loginUser component}
112         \textcolor{comment}{// Update wordpress passwords if necessary}
113         WordpressAuth::verifyFromEmail(array\_get($data, \textcolor{stringliteral}{'email'}), array\_get($data, \textcolor{stringliteral}{'password'}));
114         
115         \textcolor{comment}{/*}
116 \textcolor{comment}{         * Validate input}
117 \textcolor{comment}{        */}
118         $rules = [
119                 \textcolor{stringliteral}{'password'} => \textcolor{stringliteral}{'required|min:2'}
120         ];
121         
122         $loginAttribute = UserSettings::get(\textcolor{stringliteral}{'login\_attribute'}, UserSettings::LOGIN\_EMAIL);
123         
124         \textcolor{keywordflow}{if} ($loginAttribute == UserSettings::LOGIN\_USERNAME)
125             $rules[\textcolor{stringliteral}{'username'}] = \textcolor{stringliteral}{'required|between:2,64'};
126         \textcolor{keywordflow}{else}
127             $rules[\textcolor{stringliteral}{'username'}] = \textcolor{stringliteral}{'required|email|between:2,64'};
128         
129         \textcolor{keywordflow}{if} (!in\_array(\textcolor{stringliteral}{'username'}, $data))
130             $data[\textcolor{stringliteral}{'username'}] = array\_get($data, \textcolor{stringliteral}{'username'}, array\_get($data, \textcolor{stringliteral}{'email'}));
131         
132         \textcolor{comment}{/*}
133 \textcolor{comment}{         * Validate user credentials}
134 \textcolor{comment}{        */}
135         $validation = Validator::make($data, $rules);
136         \textcolor{keywordflow}{if} ($validation->fails())\{
137             \textcolor{keywordflow}{return} $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a939517c4026ec51cd9e001c78aa5617d}{errorDataValidation}(\textcolor{stringliteral}{'User credentials fail to validate'}, 
      $validation->errors());
138         \}
139         
140         \textcolor{comment}{/*}
141 \textcolor{comment}{         * Authenticate user}
142 \textcolor{comment}{        */}
143         
144         $user = Auth::authenticate([
145                 \textcolor{stringliteral}{'login'} => array\_get($data, \textcolor{stringliteral}{'username'}),
146                 \textcolor{stringliteral}{'password'} => array\_get($data, \textcolor{stringliteral}{'password'})
147         ], \textcolor{keyword}{true});
148         
149         \textcolor{keywordflow}{if} ($user) \{
150             \textcolor{keywordflow}{return} $this->\hyperlink{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a9d547fde7254643cdaf12cbd5aaca6b4}{show}($user->id);
151         \} \textcolor{keywordflow}{else} \{
152             \textcolor{keywordflow}{return} Response::api()->errorNotFound(\textcolor{stringliteral}{'User not found'});
153         \}
154         
155     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a698c671fe201a8881ecee9b4378bf0ec}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}!profile\+Options@{profile\+Options}}
\index{profile\+Options@{profile\+Options}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}}
\subsubsection[{profile\+Options}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Resources\textbackslash{}\+User\+Resource\+::profile\+Options (
\begin{DoxyParamCaption}
\item[{}]{\$field = {\ttfamily null}}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a698c671fe201a8881ecee9b4378bf0ec}
( definition=\char`\"{}response.\+profile.\+options\char`\"{}, type=\char`\"{}object\char`\"{}, ( property=\char`\"{}gender\char`\"{}, type=\char`\"{}array\char`\"{}, items=(type=\char`\"{}string\char`\"{}) ), ( property=\char`\"{}race\char`\"{}, type=\char`\"{}array\char`\"{}, items=(type=\char`\"{}string\char`\"{}) ), ( description=\char`\"{}\+Currently hardcode to return only U\+S\+A states\char`\"{}, property=\char`\"{}states\char`\"{}, type=\char`\"{}array\char`\"{}, items=(ref=\char`\"{}\#/definitions/state\char`\"{}) ), ( property=\char`\"{}household\+\_\+income\char`\"{}, type=\char`\"{}array\char`\"{}, items=(type=\char`\"{}string\char`\"{}) ), ( property=\char`\"{}education\char`\"{}, type=\char`\"{}array\char`\"{}, items=(type=\char`\"{}string\char`\"{}) ), ( property=\char`\"{}avatars\char`\"{}, type=\char`\"{}array\char`\"{}, items=(type=\char`\"{}string\char`\"{}) ) )

( path=\char`\"{}users/profile-\/options/\{field\}\char`\"{}, description=\char`\"{}\+Returns user profile options\char`\"{}, summary=\char`\"{}\+Get profile options\char`\"{}, tags=\{ \char`\"{}user\char`\"{}\},

( description=\char`\"{}\+Return options only for the given field\char`\"{}, in=\char`\"{}path\char`\"{}, name=\char`\"{}field\char`\"{}, required=false, type=\char`\"{}string\char`\"{}, enum=\{\char`\"{}gender\char`\"{}, \char`\"{}race\char`\"{}, \char`\"{}states\char`\"{}, \char`\"{}household\+\_\+income\char`\"{}, \char`\"{}education\char`\"{}, \char`\"{}avatars\char`\"{}\} ),

( response=200, description=\char`\"{}\+Successful response\char`\"{}, (ref=\char`\"{}\#/definitions/response.\+profile.\+options\char`\"{}) ), ( response=500, description=\char`\"{}\+Unexpected error\char`\"{}, (ref=\char`\"{}\#/definitions/error500\char`\"{}) ), ( response=404, description=\char`\"{}\+Not Found\char`\"{}, (ref=\char`\"{}\#/definitions/error404\char`\"{}) ) ) 
\begin{DoxyCode}
738     \{
739         $opts = null;
740         
741         \textcolor{comment}{// Options from Usermeta}
742         $options = \hyperlink{classDMA_1_1Friends_1_1Models_1_1Usermeta_a1acccb846d0ba68fcc9694cc0b1c4006}{Usermeta::getOptions}();
743         
744         \textcolor{comment}{// Avatar options as is used in the UserProfile component}
745         $options[\textcolor{stringliteral}{'avatars'}] = $this->getThemeAvatarOptions();
746         
747         \textcolor{keywordflow}{if} (!is\_null($field)) \{
748             $fieldOpts = array\_get($options, strtolower(trim($field)), null);
749             \textcolor{keywordflow}{if} (!is\_null($fieldOpts)) \{
750                 $opts = [ $field => $fieldOpts ];
751             \}\textcolor{keywordflow}{else}\{
752                 $message = \textcolor{stringliteral}{'Valid fields are: [ '} . implode(\textcolor{stringliteral}{', '}, array\_keys($options)) . \textcolor{stringliteral}{' ]'} ;
753                 \textcolor{keywordflow}{return} Response::api()->errorInternalError($message);
754             \}
755         \}\textcolor{keywordflow}{else}\{
756             $opts = $options; \textcolor{comment}{// Return all}
757         \}
758         
759         \textcolor{keywordflow}{return} $opts;
760     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a9d547fde7254643cdaf12cbd5aaca6b4}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}!show@{show}}
\index{show@{show}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}}
\subsubsection[{show}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Resources\textbackslash{}\+User\+Resource\+::show (
\begin{DoxyParamCaption}
\item[{}]{\$id}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a9d547fde7254643cdaf12cbd5aaca6b4}
( path=\char`\"{}users/\{id\}\char`\"{}, description=\char`\"{}\+Returns an user by id\char`\"{}, summary=\char`\"{}\+Find user by id\char`\"{}, tags=\{ \char`\"{}user\char`\"{}\},

( description=\char`\"{}\+I\+D of user to fetch\char`\"{}, format=\char`\"{}int64\char`\"{}, in=\char`\"{}path\char`\"{}, name=\char`\"{}id\char`\"{}, required=true, type=\char`\"{}integer\char`\"{} ),

( response=200, description=\char`\"{}\+Successful response\char`\"{}, (ref=\char`\"{}\#/definitions/user.\+extended\char`\"{}) ), ( response=500, description=\char`\"{}\+Unexpected error\char`\"{}, (ref=\char`\"{}\#/definitions/error500\char`\"{}) ), ( response=404, description=\char`\"{}\+Not Found\char`\"{}, (ref=\char`\"{}\#/definitions/error404\char`\"{}) ) ) 
\begin{DoxyCode}
191     \{
192         \textcolor{comment}{// Hacky variable to make the user transformer }
193         \textcolor{comment}{// to include the user profile}
194         $this->include\_profile = \textcolor{keyword}{true};
195         \textcolor{keywordflow}{return} parent::show($id);
196     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_ace3ce0115f61b8a7425aa9d0a0a92b02}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}!store@{store}}
\index{store@{store}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}}
\subsubsection[{store}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Resources\textbackslash{}\+User\+Resource\+::store (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_ace3ce0115f61b8a7425aa9d0a0a92b02}
( definition=\char`\"{}request.\+user\char`\"{}, type=\char`\"{}object\char`\"{}, required=\{\char`\"{}email\char`\"{}, \char`\"{}password\char`\"{}, \char`\"{}password\+\_\+confirm\char`\"{}\}, ( property=\char`\"{}first\+\_\+name\char`\"{}, type=\char`\"{}string\char`\"{} ), ( property=\char`\"{}last\+\_\+name\char`\"{}, type=\char`\"{}string\char`\"{} ), ( property=\char`\"{}email\char`\"{}, type=\char`\"{}string\char`\"{} ), ( property=\char`\"{}email\+\_\+optin\char`\"{}, type=\char`\"{}boolean\char`\"{} ), ( property=\char`\"{}password\char`\"{}, type=\char`\"{}string\char`\"{} ), ( property=\char`\"{}password\+\_\+confirmation\char`\"{}, type=\char`\"{}string\char`\"{} ), ( property=\char`\"{}address\char`\"{}, type=\char`\"{}string\char`\"{} ), ( description=\char`\"{}\+State id. Get state using users/profile-\/options/states\char`\"{}, property=\char`\"{}state\char`\"{}, type=\char`\"{}integer\char`\"{}, format=\char`\"{}int32\char`\"{} ), ( property=\char`\"{}zip\char`\"{}, type=\char`\"{}string\char`\"{} ), ( property=\char`\"{}phone\char`\"{}, type=\char`\"{}string\char`\"{} ), ( property=\char`\"{}birthday\+\_\+year\char`\"{}, type=\char`\"{}string\char`\"{} ), ( property=\char`\"{}birthday\+\_\+month\char`\"{}, type=\char`\"{}string\char`\"{} ), ( property=\char`\"{}birthday\+\_\+day\char`\"{}, type=\char`\"{}string\char`\"{} ), ( description=\char`\"{}\+Get an update list from endpoint users/profile-\/options/gender\char`\"{}, property=\char`\"{}gender\char`\"{}, type=\char`\"{}string\char`\"{}, enum=\{\char`\"{}\+Male\char`\"{}, \char`\"{}\+Female\char`\"{}, \char`\"{}\+Non Binary/\+Other\char`\"{}\} ), ( description=\char`\"{}\+Get an update list from endpoint users/profile-\/options/race\char`\"{}, property=\char`\"{}race\char`\"{}, type=\char`\"{}string\char`\"{}, enum=\{\char`\"{}\+White\char`\"{}, \char`\"{}\+Hispanic\char`\"{}, \char`\"{}\+Black or African American\char`\"{}, \char`\"{}\+American Indian or Alaska Native\char`\"{}, \char`\"{}\+Asian\char`\"{}, \char`\"{}\+Native Hawaiian or Other Pacific Islander\char`\"{}, \char`\"{}\+Two or more races\char`\"{}, \char`\"{}\+Other\char`\"{}\} ), ( description=\char`\"{}\+Get an update list from endpoint users/profile-\/options/household\+\_\+income\char`\"{}, property=\char`\"{}household\+\_\+income\char`\"{}, type=\char`\"{}string\char`\"{}, enum=\{\char`\"{}\+Less then \$25,000\char`\"{}, \char`\"{}\$25,000 -\/ \$50,000\char`\"{}, \char`\"{}\$50,000 -\/ \$75,000\char`\"{}, \char`\"{}\$75,000 -\/ \$150,000\char`\"{}, \char`\"{}\$150,000 -\/ \$500,000\char`\"{}, \char`\"{}\$500,000 or more\char`\"{}\} ), ( description=\char`\"{}\+Get an update list from endpoint users/profile-\/options/education\char`\"{}, property=\char`\"{}education\char`\"{}, type=\char`\"{}string\char`\"{}, enum=\{\char`\"{}\+K-\/12\char`\"{}, \char`\"{}\+High School/\+G\+E\+D\char`\"{}, \char`\"{}\+Some College\char`\"{}, \char`\"{}\+Vocational or Trade School\char`\"{}, \char`\"{}\+Bachelors Degree\char`\"{}, \char`\"{}\+Masters Degree\char`\"{}, \char`\"{}\+Ph\+D\char`\"{}\} ) )

( path=\char`\"{}users\char`\"{}, description=\char`\"{}\+Register a new user\char`\"{}, summary=\char`\"{}\+Register a new user\char`\"{}, tags=\{ \char`\"{}user\char`\"{}\},

( description=\char`\"{}\+User payload\char`\"{}, name=\char`\"{}body\char`\"{}, in=\char`\"{}body\char`\"{}, required=true, schema=(ref=\char`\"{}\#/definitions/request.\+user\char`\"{}) ), ( response=200, description=\char`\"{}\+Successful response\char`\"{}, (ref=\char`\"{}\#/definitions/user.\+extended\char`\"{}) ), ( response=500, description=\char`\"{}\+Unexpected error\char`\"{}, (ref=\char`\"{}\#/definitions/error500\char`\"{}) ) ) 
\begin{DoxyCode}
350     \{
351         \textcolor{comment}{// TODO : This logic may need to be in the Extend User model}
352         \textcolor{keywordflow}{try}\{
353             $data = Request::all();
354             $rules = [
355                     \textcolor{comment}{//'first\_name'            => 'required|min:2',}
356                     \textcolor{comment}{//'last\_name'             => 'required|min:2',}
357                     \textcolor{comment}{//'username'              => 'required|min:6',}
358                     \textcolor{stringliteral}{'email'}                 => \textcolor{stringliteral}{'required|email|between:2,64'},
359                     \textcolor{stringliteral}{'password'}              => \textcolor{stringliteral}{'required|confirmed|min:6'},
360                     \textcolor{stringliteral}{'password\_confirmation'} => \textcolor{stringliteral}{'required|min:6'},
361             ];
362             
363             $validation = Validator::make($data, $rules);
364             \textcolor{keywordflow}{if} ($validation->fails())\{
365                 \textcolor{keywordflow}{return} $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a939517c4026ec51cd9e001c78aa5617d}{errorDataValidation}(\textcolor{stringliteral}{'User data fails to validated'}, 
      $validation->errors());
366             \}
367             \textcolor{comment}{/*}
368 \textcolor{comment}{             * Register user}
369 \textcolor{comment}{            */}
370             $requireActivation = UserSettings::get(\textcolor{stringliteral}{'require\_activation'}, \textcolor{keyword}{true});
371             $automaticActivation = UserSettings::get(\textcolor{stringliteral}{'activate\_mode'}) == UserSettings::ACTIVATE\_AUTO;
372             $userActivation = UserSettings::get(\textcolor{stringliteral}{'activate\_mode'}) == UserSettings::ACTIVATE\_USER;
373             
374             \textcolor{comment}{// Split the data into whats required for the user and usermeta models}
375             $userData = [
376                     \textcolor{stringliteral}{'name'}                  => array\_get($data, \textcolor{stringliteral}{'email'}, \textcolor{stringliteral}{''}),
377                     \textcolor{stringliteral}{'password'}              => array\_get($data, \textcolor{stringliteral}{'password'}, null),
378                     \textcolor{stringliteral}{'password\_confirmation'} => array\_get($data, \textcolor{stringliteral}{'password\_confirmation'}, null),
379                     \textcolor{stringliteral}{'email'}                 => array\_get($data, \textcolor{stringliteral}{'email'}, null),
380                     \textcolor{stringliteral}{'street\_addr'}           => array\_get($data, \textcolor{stringliteral}{'address'}, \textcolor{stringliteral}{''}),
381                     \textcolor{stringliteral}{'city'}                  => array\_get($data, \textcolor{stringliteral}{'city'}, \textcolor{stringliteral}{''}),
382                     \textcolor{stringliteral}{'state'}                 => array\_get($data, \textcolor{stringliteral}{'state'}, \textcolor{stringliteral}{''}),
383                     \textcolor{stringliteral}{'zip'}                   => array\_get($data, \textcolor{stringliteral}{'zip'}, \textcolor{stringliteral}{''}),
384                     \textcolor{stringliteral}{'phone'}                 => array\_get($data, \textcolor{stringliteral}{'phone'}, \textcolor{stringliteral}{''}),
385             ];
386             
387             \textcolor{comment}{// Create and register user}
388             $user = Auth::register($userData, $automaticActivation);
389             
390             $bd\_year = array\_get($data, \textcolor{stringliteral}{'birthday\_year'}, null); 
391             $bd\_month = array\_get($data, \textcolor{stringliteral}{'birthday\_month'}, null); 
392             $bd\_day = array\_get($data, \textcolor{stringliteral}{'birthday\_day'}, null); 
393 
394             $birth\_date = null; 
395             
396             \textcolor{keywordflow}{if} ( $bd\_year && $bd\_month && $bd\_day ) \{
397                 $birth\_date = $bd\_year
398                 . \textcolor{charliteral}{'-'} .  sprintf(\textcolor{stringliteral}{"%02s"}, $bd\_month)
399                 . \textcolor{charliteral}{'-'} .  sprintf(\textcolor{stringliteral}{"%02s"}, $bd\_day)
400                 . \textcolor{stringliteral}{' 00:00:00'};
401             \}
402             
403             \textcolor{comment}{// Save user metadata}
404             $usermeta = \textcolor{keyword}{new} Usermeta;
405             $usermeta->first\_name       = array\_get($data,\textcolor{stringliteral}{'first\_name'}, \textcolor{stringliteral}{''});
406             $usermeta->last\_name        = array\_get($data,\textcolor{stringliteral}{'last\_name'}, \textcolor{stringliteral}{''});
407             $usermeta->birth\_date       = $birth\_date;
408             $usermeta->email\_optin      = array\_get($data,\textcolor{stringliteral}{'email\_optin'}, \textcolor{keyword}{false});
409             
410             \textcolor{comment}{// Uncomment to enable demographics in registration form;}
411             $usermeta->gender           = array\_get($data,\textcolor{stringliteral}{'gender'}, null);
412             $usermeta->race             = array\_get($data,\textcolor{stringliteral}{'race'}, null);
413             $usermeta->household\_income = array\_get($data,\textcolor{stringliteral}{'household\_income'}, null);
414             $usermeta->household\_size   = array\_get($data,\textcolor{stringliteral}{'household\_size'},  null);
415             $usermeta->education        = array\_get($data,\textcolor{stringliteral}{'education'}, null);
416             
417             $user->metadata()->save($usermeta);
418             
419             \textcolor{comment}{/*}
420 \textcolor{comment}{            $avatar = array\_get($data,'avatar', null);}
421 \textcolor{comment}{            if (!is\_null($avatar)) \{}
422 \textcolor{comment}{                UserExtend::uploadAvatar($user, $avatar);}
423 \textcolor{comment}{            \}}
424 \textcolor{comment}{            */}
425             
426             \textcolor{keywordflow}{return} $this->\hyperlink{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a9d547fde7254643cdaf12cbd5aaca6b4}{show}($user->id);
427                                
428         \} \textcolor{keywordflow}{catch}(\hyperlink{namespaceException}{Exception} $e) \{
429             \textcolor{keywordflow}{if} ($e instanceof ModelException) \{
430                 \textcolor{keywordflow}{return} $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a939517c4026ec51cd9e001c78aa5617d}{errorDataValidation}($e->getMessage());
431             \} \textcolor{keywordflow}{else} \{
432                 \textcolor{comment}{// Let the API resource deal with the exception}
433                 \textcolor{keywordflow}{throw} $e;
434             \}
435 
436         \}
437         
438     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a94ae693b3b200f00bb6f78d27fd74e32}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}!update@{update}}
\index{update@{update}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}}
\subsubsection[{update}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Resources\textbackslash{}\+User\+Resource\+::update (
\begin{DoxyParamCaption}
\item[{}]{\$id}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a94ae693b3b200f00bb6f78d27fd74e32}
( path=\char`\"{}users/\{id\}\char`\"{}, description=\char`\"{}\+Update an existing user\char`\"{}, summary=\char`\"{}\+Update an existing user\char`\"{}, tags=\{ \char`\"{}user\char`\"{}\}, ( description=\char`\"{}\+I\+D of user to fetch\char`\"{}, format=\char`\"{}int64\char`\"{}, in=\char`\"{}path\char`\"{}, name=\char`\"{}id\char`\"{}, required=true, type=\char`\"{}integer\char`\"{} ), ( description=\char`\"{}\+User payload\char`\"{}, name=\char`\"{}body\char`\"{}, in=\char`\"{}body\char`\"{}, required=true, schema=(ref=\char`\"{}\#/definitions/request.\+user\char`\"{}) ), ( response=200, description=\char`\"{}\+Successful response\char`\"{}, (ref=\char`\"{}\#/definitions/user.\+extended\char`\"{}) ), ( response=500, description=\char`\"{}\+Unexpected error\char`\"{}, (ref=\char`\"{}\#/definitions/error500\char`\"{}) ), ( response=404, description=\char`\"{}\+User not found\char`\"{}, (ref=\char`\"{}\#/definitions/\+User\+Error404\char`\"{}) )

) (non-\/\+P\+H\+Pdoc) \begin{DoxySeeAlso}{See also}
\+::update() 
\end{DoxySeeAlso}

\begin{DoxyCode}
486     \{
487         \textcolor{keywordflow}{try}\{
488             \textcolor{keywordflow}{if}(is\_null($user = User::find($id)))\{
489                 \textcolor{keywordflow}{return} Response::api()->errorNotFound(\textcolor{stringliteral}{'User not found'}); 
490             \}
491             
492             $data =  Request::all();
493             \textcolor{keywordflow}{if}(Request::isJson() && $data == \textcolor{stringliteral}{''})\{
494                 \textcolor{comment}{// Is JSON and data is empty, By default PHP}
495                 \textcolor{comment}{// blocks PUT/PATCH methods. So as workaround }
496                 \textcolor{comment}{// get get the content and decode it manually}
497                 \textcolor{comment}{// if required}
498                 $data = Request::getContent();
499                 \textcolor{keywordflow}{if} (!is\_array($data))\{
500                     $data = json\_decode($data);
501                 \}
502             \}
503 
504             $rules = [
505                     \textcolor{stringliteral}{'first\_name'}            => \textcolor{stringliteral}{'min:2'},
506                     \textcolor{stringliteral}{'last\_name'}             => \textcolor{stringliteral}{'min:2'},
507                     \textcolor{comment}{//'username'              => 'required|min:6',}
508                     \textcolor{stringliteral}{'email'}                 => \textcolor{stringliteral}{'email|between:2,64'},
509                     \textcolor{stringliteral}{'password'}              => \textcolor{stringliteral}{'sometimes|required|confirmed|min:6'},
510                     \textcolor{stringliteral}{'password\_confirmation'} => \textcolor{stringliteral}{'min:6'}
511             ];
512             
513             $validation = Validator::make($data, $rules);
514             \textcolor{keywordflow}{if} ($validation->fails())\{
515                 \textcolor{keywordflow}{return} $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a939517c4026ec51cd9e001c78aa5617d}{errorDataValidation}(\textcolor{stringliteral}{'User data fails to validated'}, 
      $validation->errors());
516             \}
517             
518             \textcolor{comment}{// Drop password\_confirmation if password is not present}
519             \textcolor{keywordflow}{if}(is\_null(array\_get($data, \textcolor{stringliteral}{'password'}, null))) \{
520                 unset($data[\textcolor{stringliteral}{'password\_confirmation'}]);
521             \}
522                         
523             \textcolor{comment}{// Update user data}
524             $userAttrs = [\textcolor{stringliteral}{'name'} , \textcolor{stringliteral}{'password'}, \textcolor{stringliteral}{'password\_confirmation'}, \textcolor{stringliteral}{'email'},
525                           \textcolor{stringliteral}{'street\_addr'}, \textcolor{stringliteral}{'city'}, \textcolor{stringliteral}{'state'}, \textcolor{stringliteral}{'zip'}, \textcolor{stringliteral}{'phone'}];
526 
527             $user = $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a14f6d0add80bab42202323d70e3c645f}{updateModelData}($user, $data, $userAttrs);
528             
529             \(\backslash\)Log::debug($data);
530 
531             \textcolor{keywordflow}{if}($user->save()) \{
532                 \textcolor{comment}{// If user save ok them we update usermetadata}
533                 $bd\_year = array\_get($data, \textcolor{stringliteral}{'birthday\_year'}, null);
534                 $bd\_month = array\_get($data, \textcolor{stringliteral}{'birthday\_month'}, null);
535                 $bd\_day = array\_get($data, \textcolor{stringliteral}{'birthday\_day'}, null);
536                 
537                 $birth\_date = null;
538                 
539                 \textcolor{keywordflow}{if} ( $bd\_year && $bd\_month && $bd\_day ) \{
540                     $data[\textcolor{stringliteral}{'birth\_date'}] = $bd\_year
541                     . \textcolor{charliteral}{'-'} .  sprintf(\textcolor{stringliteral}{"%02s"}, $bd\_month)
542                     . \textcolor{charliteral}{'-'} .  sprintf(\textcolor{stringliteral}{"%02s"}, $bd\_day)
543                     . \textcolor{stringliteral}{' 00:00:00'};
544                 \}
545                 
546                 \textcolor{comment}{// Save user metadata}
547                 $usermeta = $user->metadata;
548                 \textcolor{keywordflow}{if}(!is\_null($usermeta))\{
549                     $userMetadataAttrs = [\textcolor{stringliteral}{'first\_name'} , \textcolor{stringliteral}{'last\_name'}, \textcolor{stringliteral}{'birth\_date'}, \textcolor{stringliteral}{'email\_optin'},
550                                           \textcolor{stringliteral}{'gender'}, \textcolor{stringliteral}{'race'}, \textcolor{stringliteral}{'household\_income'}, \textcolor{stringliteral}{'household\_size'}, \textcolor{stringliteral}{'
      education'}];
551                     $usermeta = $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a14f6d0add80bab42202323d70e3c645f}{updateModelData}($usermeta, $data, $userMetadataAttrs)
      ;
552                     $usermeta->save();
553                 \}
554                
555             \}\textcolor{keywordflow}{else}\{
556                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} \hyperlink{namespaceException}{Exception}(\textcolor{stringliteral}{'Failed to update user data'});
557             \}
558             
559           
560             \textcolor{keywordflow}{return} $this->\hyperlink{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a9d547fde7254643cdaf12cbd5aaca6b4}{show}($user->id);
561                                
562         \} \textcolor{keywordflow}{catch}(\hyperlink{namespaceException}{Exception} $e) \{
563             \textcolor{keywordflow}{if} ($e instanceof ModelException) \{
564                 \textcolor{keywordflow}{return} $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a939517c4026ec51cd9e001c78aa5617d}{errorDataValidation}($e->getMessage());
565             \} \textcolor{keywordflow}{else} \{
566                 \textcolor{comment}{// Let the API resource deal with the exception}
567                 \textcolor{keywordflow}{throw} $e;
568             \}
569 
570         \}
571     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a9a6d30979f3f0e54bb951a612c33dca1}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}!upload\+Avatar@{upload\+Avatar}}
\index{upload\+Avatar@{upload\+Avatar}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}}
\subsubsection[{upload\+Avatar}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Resources\textbackslash{}\+User\+Resource\+::upload\+Avatar (
\begin{DoxyParamCaption}
\item[{}]{\$user\+Id}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a9a6d30979f3f0e54bb951a612c33dca1}
( definition=\char`\"{}request.\+avatar\char`\"{}, type=\char`\"{}object\char`\"{}, required=\{\char`\"{}source\char`\"{}\}, ( description=\char`\"{}\+Source can be one of the U\+R\+Ls returned by  users/profile-\/options/avatar endpoint or by uploading a Base64 encode string of a J\+P\+G, P\+N\+G or G\+I\+F\char`\"{}, property=\char`\"{}source\char`\"{}, type=\char`\"{}string\char`\"{} ) )

( path=\char`\"{}users/\{id\}/upload-\/avatar\char`\"{}, summary=\char`\"{}\+Change user avatar\char`\"{}, description=\char`\"{}\+Change user avatar. Avatar must be a valid J\+P\+G, G\+I\+F or P\+N\+G. And not bigger that 400x400 pixels.\char`\"{}, tags=\{ \char`\"{}user\char`\"{}\},

( description=\char`\"{}\+I\+D of user to fetch\char`\"{}, format=\char`\"{}int64\char`\"{}, in=\char`\"{}path\char`\"{}, name=\char`\"{}id\char`\"{}, required=true, type=\char`\"{}integer\char`\"{} ),

( description=\char`\"{}\+Avatar payload\char`\"{}, name=\char`\"{}body\char`\"{}, in=\char`\"{}body\char`\"{}, required=true, schema=(ref=\char`\"{}\#/definitions/request.\+avatar\char`\"{}) ), ( response=200, description=\char`\"{}\+Successful response\char`\"{}, ( ( property=\char`\"{}success\char`\"{}, type=\char`\"{}boolean\char`\"{} ) ) ), ( response=500, description=\char`\"{}\+Unexpected error\char`\"{}, (ref=\char`\"{}\#/definitions/error500\char`\"{}) ), ( response=404, description=\char`\"{}\+User not found\char`\"{}, (ref=\char`\"{}\#/definitions/\+User\+Error404\char`\"{}) ) ) 
\begin{DoxyCode}
632     \{
633 
634         \textcolor{keywordflow}{if}(is\_null($user = User::find($userId)))\{
635             \textcolor{keywordflow}{return} Response::api()->errorNotFound(\textcolor{stringliteral}{'User not found'});
636         \}
637         
638         $data = Request::all();
639         $rules = [
640                 \textcolor{stringliteral}{'source'}            => \textcolor{stringliteral}{'required'},
641         ];
642         
643         $validation = Validator::make($data, $rules);
644         \textcolor{keywordflow}{if} ($validation->fails())\{
645             \textcolor{keywordflow}{return} $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a939517c4026ec51cd9e001c78aa5617d}{errorDataValidation}(\textcolor{stringliteral}{'Data fails to validated'}, $validation->
      errors());
646         \}        
647         
648         \textcolor{keywordflow}{if}($source = array\_get($data, \textcolor{stringliteral}{'source'}, null))\{
649             
650             \textcolor{comment}{// Check if is a selected avatar from the theme}
651             $avatars    = $this->getThemeAvatarOptions();
652             $avatars    = array\_keys($avatars);
653             $keyAvatar  = trim(strtolower(basename(basename($source))));
654             
655             \textcolor{keywordflow}{if}(in\_array($keyAvatar, $avatars))\{
656                 UserExtend::uploadAvatar($user, $source);
657             \}\textcolor{keywordflow}{else}\{
658                 \hyperlink{classDMA_1_1Friends_1_1Classes_1_1UserExtend_afdb44d04557d6679074fa0399f0ce843}{UserExtend::uploadAvatarFromString}($user, $source);
659             \}
660             
661             \textcolor{keywordflow}{return} [ \textcolor{stringliteral}{'success'} => \textcolor{keyword}{true}];
662             
663         \} 
664     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_adefa93e29cac582db01b6a49d71184ec}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}!user\+Activities@{user\+Activities}}
\index{user\+Activities@{user\+Activities}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}}
\subsubsection[{user\+Activities}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Resources\textbackslash{}\+User\+Resource\+::user\+Activities (
\begin{DoxyParamCaption}
\item[{}]{\$user\+Id}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_adefa93e29cac582db01b6a49d71184ec}
( path=\char`\"{}users/\{id\}/activities\char`\"{}, description=\char`\"{}\+Returns an user activities\char`\"{}, summary=\char`\"{}\+Find user completed activities\char`\"{}, tags=\{ \char`\"{}user\char`\"{}\},

( ref=\char`\"{}\#/parameters/per\+\_\+page\char`\"{} ), ( ref=\char`\"{}\#/parameters/page\char`\"{} ),

( description=\char`\"{}\+I\+D of user to fetch\char`\"{}, format=\char`\"{}int64\char`\"{}, in=\char`\"{}path\char`\"{}, name=\char`\"{}id\char`\"{}, required=true, type=\char`\"{}integer\char`\"{} ),

( response=200, description=\char`\"{}\+Successful response\char`\"{}, (ref=\char`\"{}\#/definitions/activity\char`\"{}) ), ( response=500, description=\char`\"{}\+Unexpected error\char`\"{}, (ref=\char`\"{}\#/definitions/error500\char`\"{}) ), ( response=404, description=\char`\"{}\+Not Found\char`\"{}, (ref=\char`\"{}\#/definitions/error404\char`\"{}) ) ) 
\begin{DoxyCode}
803     \{
804         $transformer  = \textcolor{stringliteral}{'\(\backslash\)DMA\(\backslash\)Friends\(\backslash\)API\(\backslash\)Transformers\(\backslash\)ActivityTransformer'};
805         $attrRelation = \textcolor{stringliteral}{'activities'};
806         \textcolor{keywordflow}{return} $this->genericUserRelationResource($userId, $attrRelation, $transformer);
807     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_aa4e6aab6b30d21ca50809a092d16b8df}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}!user\+Badges@{user\+Badges}}
\index{user\+Badges@{user\+Badges}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}}
\subsubsection[{user\+Badges}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Resources\textbackslash{}\+User\+Resource\+::user\+Badges (
\begin{DoxyParamCaption}
\item[{}]{\$user\+Id}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_aa4e6aab6b30d21ca50809a092d16b8df}
( path=\char`\"{}users/\{id\}/badges\char`\"{}, description=\char`\"{}\+Returns user badges\char`\"{}, summary=\char`\"{}\+Find user earned badges\char`\"{}, tags=\{ \char`\"{}user\char`\"{}\},

( ref=\char`\"{}\#/parameters/per\+\_\+page\char`\"{} ), ( ref=\char`\"{}\#/parameters/page\char`\"{} ),

( description=\char`\"{}\+I\+D of user to fetch\char`\"{}, format=\char`\"{}int64\char`\"{}, in=\char`\"{}path\char`\"{}, name=\char`\"{}id\char`\"{}, required=true, type=\char`\"{}integer\char`\"{} ),

( response=200, description=\char`\"{}\+Successful response\char`\"{}, (ref=\char`\"{}\#/definitions/badge\char`\"{}) ), ( response=500, description=\char`\"{}\+Unexpected error\char`\"{}, (ref=\char`\"{}\#/definitions/error500\char`\"{}) ), ( response=404, description=\char`\"{}\+Not Found\char`\"{}, (ref=\char`\"{}\#/definitions/error404\char`\"{}) ) ) 
\begin{DoxyCode}
897     \{
898         $transformer  = \textcolor{stringliteral}{'\(\backslash\)DMA\(\backslash\)Friends\(\backslash\)API\(\backslash\)Transformers\(\backslash\)BadgeTransformer'};
899         $attrRelation = \textcolor{stringliteral}{'badges'};
900         \textcolor{keywordflow}{return} $this->genericUserRelationResource($userId, $attrRelation, $transformer);
901     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a738d1d0ddb9e7dccfeef8148985ca24e}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}!user\+Rewards@{user\+Rewards}}
\index{user\+Rewards@{user\+Rewards}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Resources\+::\+User\+Resource}}
\subsubsection[{user\+Rewards}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Resources\textbackslash{}\+User\+Resource\+::user\+Rewards (
\begin{DoxyParamCaption}
\item[{}]{\$user\+Id}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1API_1_1Resources_1_1UserResource_a738d1d0ddb9e7dccfeef8148985ca24e}
( path=\char`\"{}users/\{id\}/rewards\char`\"{}, description=\char`\"{}\+Returns user rewards\char`\"{}, summary=\char`\"{}\+Find user redeem rewards\char`\"{}, tags=\{ \char`\"{}user\char`\"{}\},

( ref=\char`\"{}\#/parameters/per\+\_\+page\char`\"{} ), ( ref=\char`\"{}\#/parameters/page\char`\"{} ),

( description=\char`\"{}\+I\+D of user to fetch\char`\"{}, format=\char`\"{}int64\char`\"{}, in=\char`\"{}path\char`\"{}, name=\char`\"{}id\char`\"{}, required=true, type=\char`\"{}integer\char`\"{} ),

( response=200, description=\char`\"{}\+Successful response\char`\"{}, (ref=\char`\"{}\#/definitions/reward\char`\"{}) ), ( response=500, description=\char`\"{}\+Unexpected error\char`\"{}, (ref=\char`\"{}\#/definitions/error500\char`\"{}) ), ( response=404, description=\char`\"{}\+Not Found\char`\"{}, (ref=\char`\"{}\#/definitions/error404\char`\"{}) ) ) 
\begin{DoxyCode}
850     \{
851         $transformer  = \textcolor{stringliteral}{'\(\backslash\)DMA\(\backslash\)Friends\(\backslash\)API\(\backslash\)Transformers\(\backslash\)RewardTransformer'};
852         $attrRelation = \textcolor{stringliteral}{'rewards'};
853         \textcolor{keywordflow}{return} $this->genericUserRelationResource($userId, $attrRelation, $transformer);
854     \}
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
api/resources/User\+Resource.\+php\end{DoxyCompactItemize}
