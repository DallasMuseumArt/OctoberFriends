\hypertarget{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer}{}\section{D\+M\+A\textbackslash{}Friends\textbackslash{}A\+P\+I\textbackslash{}Transformers\textbackslash{}Activity\+Transformer Class Reference}
\label{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer}\index{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Transformers\textbackslash{}\+Activity\+Transformer@{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Transformers\textbackslash{}\+Activity\+Transformer}}
Inheritance diagram for D\+M\+A\textbackslash{}Friends\textbackslash{}A\+P\+I\textbackslash{}Transformers\textbackslash{}Activity\+Transformer\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{dc/d08/classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_a0de84700162b94dc38fd224057f8a858}{get\+Data} (\$instance)
\item 
\hyperlink{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_abb084721de5785ff9fdc5c4e63d45631}{get\+Extended\+Data} (\$instance)
\item 
\hyperlink{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_a1ce3329a76543ad2d84bca30c6f2601d}{include\+Steps} (Model \$instance)
\item 
\hyperlink{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_a96359bb45e92bd0b02ebd0a70787dd29}{include\+Media} (Model \$instance)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_a4dac5dd24b8cd6a126943c4e1c1e788b}{get\+Time\+Restrictions} (Model \$instance)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
{\bfseries \$default\+Includes}
\item 
{\bfseries \$avilable\+Includes}
\end{DoxyCompactItemize}


\subsection{Member Function Documentation}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_a0de84700162b94dc38fd224057f8a858}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer}!get\+Data@{get\+Data}}
\index{get\+Data@{get\+Data}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer}}
\subsubsection[{get\+Data}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Transformers\textbackslash{}\+Activity\+Transformer\+::get\+Data (
\begin{DoxyParamCaption}
\item[{}]{\$instance}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_a0de84700162b94dc38fd224057f8a858}
\begin{DoxySeeAlso}{See also}
\+::get\+Data() 
\end{DoxySeeAlso}

\begin{DoxyCode}
37     \{
38         \textcolor{keywordflow}{return} [
39                 \textcolor{stringliteral}{'id'}                => (int)$instance->id,
40                 \textcolor{stringliteral}{'title'}             => $instance->title,
41                 \textcolor{stringliteral}{'activity\_code'}     => $instance->activity\_code,
42                 \textcolor{stringliteral}{'activity\_type'}     => $instance->activity\_type,   
43         ];
44     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_abb084721de5785ff9fdc5c4e63d45631}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer}!get\+Extended\+Data@{get\+Extended\+Data}}
\index{get\+Extended\+Data@{get\+Extended\+Data}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer}}
\subsubsection[{get\+Extended\+Data}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Transformers\textbackslash{}\+Activity\+Transformer\+::get\+Extended\+Data (
\begin{DoxyParamCaption}
\item[{}]{\$instance}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_abb084721de5785ff9fdc5c4e63d45631}
\begin{DoxySeeAlso}{See also}
\+::get\+Extended\+Data() 
\end{DoxySeeAlso}

\begin{DoxyCode}
51     \{
52         \textcolor{comment}{// Adding steps by the Fractal embeding system}
53         $this->setDefaultIncludes( array\_merge($this->getDefaultIncludes(), [\textcolor{stringliteral}{'steps'}]));
54     
55         \textcolor{keywordflow}{return} [
56             \textcolor{stringliteral}{'is\_published'}      => ($instance->is\_published)?\textcolor{keyword}{true}:\textcolor{keyword}{false},
57             \textcolor{stringliteral}{'is\_archived'}       => ($instance->is\_archived)?\textcolor{keyword}{true}:\textcolor{keyword}{false},
58             \textcolor{stringliteral}{'time\_restrictions'} => $this->\hyperlink{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_a4dac5dd24b8cd6a126943c4e1c1e788b}{getTimeRestrictions}($instance),
59         ];
60     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_a4dac5dd24b8cd6a126943c4e1c1e788b}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer}!get\+Time\+Restrictions@{get\+Time\+Restrictions}}
\index{get\+Time\+Restrictions@{get\+Time\+Restrictions}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer}}
\subsubsection[{get\+Time\+Restrictions}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Transformers\textbackslash{}\+Activity\+Transformer\+::get\+Time\+Restrictions (
\begin{DoxyParamCaption}
\item[{Model}]{\$instance}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_a4dac5dd24b8cd6a126943c4e1c1e788b}
Helper method to deserialize time\+\_\+restiction data 
\begin{DoxyParams}[1]{Parameters}
Model & {\em \$instance} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array 
\end{DoxyReturn}

\begin{DoxyCode}
69     \{
70         $restrictions = [];
71         $keys         = [\textcolor{stringliteral}{'date\_begin'}, \textcolor{stringliteral}{'date\_end'}, \textcolor{stringliteral}{'start\_time'}, \textcolor{stringliteral}{'end\_time'}, \textcolor{stringliteral}{'days'}];
72         $dayNames     = [\textcolor{stringliteral}{'monday'}, \textcolor{stringliteral}{'tuesday'}, \textcolor{stringliteral}{'wednesday'}, \textcolor{stringliteral}{'thursday'}, \textcolor{stringliteral}{'friday'}, \textcolor{stringliteral}{'saturday'}, \textcolor{stringliteral}{'sunday'}];
73         $type\_range   = \textcolor{keyword}{false};
74         $type\_day     = \textcolor{keyword}{false};
75         
76         $type         = $instance->time\_restriction;
77         $data         = $instance->time\_restriction\_data; \textcolor{comment}{// Get deserializated time restrictions data}
78         
79         \textcolor{comment}{// Reset values}
80         \textcolor{keywordflow}{foreach}($keys as $key)\{
81             \textcolor{keywordflow}{if} ($key != \textcolor{stringliteral}{'days'}) \{
82                 $restrictions[$key] = null;
83             \} \textcolor{keywordflow}{else} \{
84                 $restrictions[$key] = array\_fill\_keys($dayNames, \textcolor{keyword}{false});
85             \}
86         \}
87 
88                
89         \textcolor{keywordflow}{switch}($type)\{
90             \textcolor{keywordflow}{case} 0:
91                 \textcolor{keywordflow}{break};
92             
93             \textcolor{keywordflow}{case} 1: \textcolor{comment}{// Days / Hours}
94                 $days = [];
95                 \textcolor{keywordflow}{foreach}($data[\textcolor{stringliteral}{'days'}] as $key => $value)\{
96                     $days[ $dayNames[$key-1] ] = $value;
97                 \}
98                 $restrictions[\textcolor{stringliteral}{'days'}] = $days;
99 
100                 $restrictions[\textcolor{stringliteral}{'start\_time'}] = $this->normalizeTime($data[\textcolor{stringliteral}{'start\_time'}]);
101                 $restrictions[\textcolor{stringliteral}{'end\_time'}]   = $this->normalizeTime($data[\textcolor{stringliteral}{'end\_time'}]);
102                 
103                 $type\_day = \textcolor{keyword}{true};
104                 
105                 \textcolor{keywordflow}{break};
106             
107             \textcolor{keywordflow}{case} 2: \textcolor{comment}{// Date range}
108                 $restrictions[\textcolor{stringliteral}{'date\_begin'}] = $this->carbonToIso($instance->date\_begin, \textcolor{stringliteral}{'date'});
109                 $restrictions[\textcolor{stringliteral}{'date\_end'}]   = $this->carbonToIso($instance->date\_end, \textcolor{stringliteral}{'date'});
110                 
111                 $restrictions[\textcolor{stringliteral}{'start\_time'}] = $this->carbonToIso($instance->date\_begin, \textcolor{stringliteral}{'time'});
112                 $restrictions[\textcolor{stringliteral}{'end\_time'}]   = $this->carbonToIso($instance->date\_end, \textcolor{stringliteral}{'time'});
113 
114                 $type\_range = \textcolor{keyword}{true};
115                 
116                 \textcolor{keywordflow}{break};
117         \}
118         \textcolor{comment}{// Store type}
119         \textcolor{comment}{//$restrictions['type']       = $type;}
120         
121         $restrictions[\textcolor{stringliteral}{'type\_range'}] = $type\_range;
122         $restrictions[\textcolor{stringliteral}{'type\_day'}]   = $type\_day;
123 
124 
125         \textcolor{keywordflow}{return} $restrictions;
126     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_a96359bb45e92bd0b02ebd0a70787dd29}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer}!include\+Media@{include\+Media}}
\index{include\+Media@{include\+Media}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer}}
\subsubsection[{include\+Media}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Transformers\textbackslash{}\+Activity\+Transformer\+::include\+Media (
\begin{DoxyParamCaption}
\item[{Model}]{\$instance}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_a96359bb45e92bd0b02ebd0a70787dd29}
Include Media

\begin{DoxyReturn}{Returns}
League 
\end{DoxyReturn}

\begin{DoxyCode}
147     \{
148         \textcolor{keywordflow}{return} $this->item($instance, \textcolor{keyword}{new} MediaTransformer);
149     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_a1ce3329a76543ad2d84bca30c6f2601d}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer}!include\+Steps@{include\+Steps}}
\index{include\+Steps@{include\+Steps}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer}}
\subsubsection[{include\+Steps}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Transformers\textbackslash{}\+Activity\+Transformer\+::include\+Steps (
\begin{DoxyParamCaption}
\item[{Model}]{\$instance}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_a1ce3329a76543ad2d84bca30c6f2601d}
Include Steps

\begin{DoxyReturn}{Returns}
League 
\end{DoxyReturn}

\begin{DoxyCode}
134     \{
135         $steps = $instance->steps;
136         \textcolor{comment}{// No necessary to show steps activities given that the parent is an activity}
137         $exclude = [\textcolor{stringliteral}{'activity'}]; 
138         \textcolor{keywordflow}{return} $this->collection($steps, \textcolor{keyword}{new} StepTransformer(\textcolor{keyword}{true}, $exclude));
139     \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_ad7fbb8c6b7a80665f57afec58d71778c}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer}!\$avilable\+Includes@{\$avilable\+Includes}}
\index{\$avilable\+Includes@{\$avilable\+Includes}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer}}
\subsubsection[{\$avilable\+Includes}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Transformers\textbackslash{}\+Activity\+Transformer\+::\$avilable\+Includes\hspace{0.3cm}{\ttfamily [protected]}}\label{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_ad7fbb8c6b7a80665f57afec58d71778c}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= [
            \textcolor{stringliteral}{'steps'}
    ]
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_a0f55e7ec2bc294c76b7145d322464900}{}\index{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer}!\$default\+Includes@{\$default\+Includes}}
\index{\$default\+Includes@{\$default\+Includes}!D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer@{D\+M\+A\+::\+Friends\+::\+A\+P\+I\+::\+Transformers\+::\+Activity\+Transformer}}
\subsubsection[{\$default\+Includes}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+A\+P\+I\textbackslash{}\+Transformers\textbackslash{}\+Activity\+Transformer\+::\$default\+Includes\hspace{0.3cm}{\ttfamily [protected]}}\label{classDMA_1_1Friends_1_1API_1_1Transformers_1_1ActivityTransformer_a0f55e7ec2bc294c76b7145d322464900}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= [
            \textcolor{stringliteral}{'media'}
    ]
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
api/transformers/Activity\+Transformer.\+php\end{DoxyCompactItemize}
