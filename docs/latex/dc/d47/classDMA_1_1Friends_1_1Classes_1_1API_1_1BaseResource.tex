\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource}{}\section{D\+M\+A\textbackslash{}Friends\textbackslash{}Classes\textbackslash{}A\+P\+I\textbackslash{}Base\+Resource Class Reference}
\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource}\index{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource@{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource}}
Inheritance diagram for D\+M\+A\textbackslash{}Friends\textbackslash{}Classes\textbackslash{}A\+P\+I\textbackslash{}Base\+Resource\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=11.666667cm]{dc/d47/classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_abcc8bf44739a7a7acc1a764a99651ed1}{index} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_ae0964fc790c54db78c33efe31dc82639}{create} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_ad7d43d3d9f020cf95b9da13ed8644cdb}{store} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_aba517716fdd7a8bfeaa947bea12a52ed}{show} (\$id)
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a865e74786986a18608d6e6c2881cc150}{edit} (\$id)
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_af371caf5658c4f4017536ffffa87a754}{update} (\$id)
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a9a2d363ffd9c70ee237a4e865c09ec15}{destroy} (\$id)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a6266e10631f12d6fe43da024ce724dad}{}{\bfseries \$allow\+Actions} = \mbox{[}\textquotesingle{}\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_abcc8bf44739a7a7acc1a764a99651ed1}{index}\textquotesingle{}, \textquotesingle{}\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_aba517716fdd7a8bfeaa947bea12a52ed}{show}\textquotesingle{}, \textquotesingle{}\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_ad7d43d3d9f020cf95b9da13ed8644cdb}{store}\textquotesingle{}, \textquotesingle{}\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_af371caf5658c4f4017536ffffa87a754}{update}\textquotesingle{}, \textquotesingle{}\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a9a2d363ffd9c70ee237a4e865c09ec15}{destroy}\textquotesingle{}\mbox{]}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a6266e10631f12d6fe43da024ce724dad}

\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_acff925772bdea0601cc8c926ca11d51e}{get\+Model} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a35abd35dbcf2d6cdafc569bb4a574756}{get\+Transformer} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a2df6de75ae3dd493df1434ce3d873d6a}{get\+Page\+Size} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a826646a41749725d945ceb2ff08c3852}{get\+Sort\+By} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a03c357cd8b591ae2b1b915d14a3f3d9f}{get\+Filters} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a98884c60fd1cd6a4b22b6b549c97e1e1}{apply\+Filters} (\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1ModelRepository}{Model\+Repository} \$model=null)
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_aed3811d426c80763855a43280f822f97}{paginate\+Result} (Builder \$query)
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a14f6d0add80bab42202323d70e3c645f}{update\+Model\+Data} (\$model, \$data, \$attrs\+To\+Update)
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a939517c4026ec51cd9e001c78aa5617d}{error\+Data\+Validation} (\$message= \textquotesingle{}Invalid data \textquotesingle{}, \$errors=\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a138e41bcc80cec6eb728fc30af62bc76}{}{\bfseries \$model}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a138e41bcc80cec6eb728fc30af62bc76}

\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a3b9744ae88ff15132a19675eaec5b0da}{}{\bfseries \$model\+Repository}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a3b9744ae88ff15132a19675eaec5b0da}

\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a8bed7a9fcacec10d025eb0458b8fd861}{}{\bfseries \$transformer} = \textquotesingle{}\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseTransformer}{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Transformer}\textquotesingle{}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a8bed7a9fcacec10d025eb0458b8fd861}

\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_aa9446b4db56f3c5544f57167b35bd2e8}{}{\bfseries \$page\+Size} = 50\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_aa9446b4db56f3c5544f57167b35bd2e8}

\end{DoxyCompactItemize}


\subsection{Member Function Documentation}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a98884c60fd1cd6a4b22b6b549c97e1e1}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!apply\+Filters@{apply\+Filters}}
\index{apply\+Filters@{apply\+Filters}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{apply\+Filters}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::apply\+Filters (
\begin{DoxyParamCaption}
\item[{{\bf Model\+Repository}}]{\$model = {\ttfamily null}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a98884c60fd1cd6a4b22b6b549c97e1e1}
Helper function to apply filter and sort paremeters to the given \hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1ModelRepository}{Model\+Repository}.


\begin{DoxyParams}[1]{Parameters}
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1ModelRepository}{Model\+Repository} & {\em \$model} & \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em } & \\
\hline
\end{DoxyExceptions}

\begin{DoxyCode}
143     \{
144         \textcolor{keywordflow}{try} \{
145             $model      = (is\_null($model)) ? $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_acff925772bdea0601cc8c926ca11d51e}{getModel}() : $model;
146             $filters    = $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a03c357cd8b591ae2b1b915d14a3f3d9f}{getFilters}();
147             $sortBy     = $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a826646a41749725d945ceb2ff08c3852}{getSortBy}();
148             $query      = $model->applyFiltersToQuery($filters);
149             $query      = $model->applySortByToQuery($sortBy, $query);
150     
151         \} \textcolor{keywordflow}{catch}(\(\backslash\)\hyperlink{namespaceException}{Exception} $e) \{
152     
153             $message = $e->getMessage();
154             \(\backslash\)Log::error(\textcolor{stringliteral}{'API endpoint '} . get\_class($this) . \textcolor{stringliteral}{' when applying filters: '} . $e->getMessage())
      ;
155     
156             \textcolor{comment}{// Re-throw exception}
157             \textcolor{keywordflow}{throw} $e;
158         \}
159         \textcolor{keywordflow}{return} $query;
160          
161     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_ae0964fc790c54db78c33efe31dc82639}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!create@{create}}
\index{create@{create}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{create}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::create (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_ae0964fc790c54db78c33efe31dc82639}
Show the form for creating a new item

\begin{DoxyReturn}{Returns}
Response 
\end{DoxyReturn}

\begin{DoxyCode}
221     \{
222         \textcolor{keywordflow}{return} Response::api()->errorForbidden();
223     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a9a2d363ffd9c70ee237a4e865c09ec15}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!destroy@{destroy}}
\index{destroy@{destroy}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{destroy}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::destroy (
\begin{DoxyParamCaption}
\item[{}]{\$id}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a9a2d363ffd9c70ee237a4e865c09ec15}
Remove the specified item from storage.


\begin{DoxyParams}[1]{Parameters}
int & {\em \$id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Response 
\end{DoxyReturn}

\begin{DoxyCode}
288     \{
289         \textcolor{keywordflow}{return} Response::api()->errorForbidden();
290 
291     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a865e74786986a18608d6e6c2881cc150}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!edit@{edit}}
\index{edit@{edit}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{edit}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::edit (
\begin{DoxyParamCaption}
\item[{}]{\$id}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a865e74786986a18608d6e6c2881cc150}
Show the form for editing the specified item.


\begin{DoxyParams}[1]{Parameters}
int & {\em \$id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Response 
\end{DoxyReturn}

\begin{DoxyCode}
265     \{
266         \textcolor{keywordflow}{return} Response::api()->errorForbidden();
267     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a939517c4026ec51cd9e001c78aa5617d}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!error\+Data\+Validation@{error\+Data\+Validation}}
\index{error\+Data\+Validation@{error\+Data\+Validation}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{error\+Data\+Validation}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::error\+Data\+Validation (
\begin{DoxyParamCaption}
\item[{}]{\$message = {\ttfamily \textquotesingle{}Invalid~data~\textquotesingle{}}, }
\item[{}]{\$errors = {\ttfamily \mbox{[}\mbox{]}}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a939517c4026ec51cd9e001c78aa5617d}
Generates a response with a 422 H\+T\+T\+P header a given message and given errors.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$message} & \\
\hline
array & {\em \$errors} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
mixed 
\end{DoxyReturn}

\begin{DoxyCode}
320     \{
321         \textcolor{keywordflow}{return} Response::api()->setStatusCode(422)->withArray([
322                 \textcolor{stringliteral}{'error'} => [
323                         \textcolor{stringliteral}{'code'} => 422,
324                         \textcolor{stringliteral}{'http\_code'} => \textcolor{stringliteral}{'GEN-UNPROCESSABLE'},
325                         \textcolor{stringliteral}{'message'} => $message,
326                         \textcolor{stringliteral}{'errors'} => $errors
327                 ]
328         ]);
329     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a03c357cd8b591ae2b1b915d14a3f3d9f}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!get\+Filters@{get\+Filters}}
\index{get\+Filters@{get\+Filters}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{get\+Filters}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::get\+Filters (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a03c357cd8b591ae2b1b915d14a3f3d9f}
Get filters to apply to this resource \begin{DoxyReturn}{Returns}
array of  
\end{DoxyReturn}

\begin{DoxyCode}
109     \{
110         $filters=[];
111         $ignoreParameter = [\textcolor{stringliteral}{'per\_page'},\textcolor{stringliteral}{'page'}, \textcolor{stringliteral}{'sort'}];
112         
113         \textcolor{keywordflow}{foreach}(Input::all() as $key => $value) \{
114             \textcolor{keywordflow}{if} (!in\_array($key, $ignoreParameter)) \{
115                 \textcolor{comment}{// Separate operator and filter name}
116                 $bits = explode(\textcolor{stringliteral}{'\_\_'}, $key);
117                 
118                 $filter   = $bits[0];
119                 $operatorAlias = \textcolor{stringliteral}{'exact'};
120                 
121                 \textcolor{keywordflow}{if} (count($bits) > 1) \{
122                     $operatorAlias = $bits[1];
123                 \}
124     
125                 \textcolor{comment}{// Create instance of a filter field specification}
126                 $filterSpec = \textcolor{keyword}{new} FilterSpec($filter, $value, $operatorAlias);
127                 $filters[] = $filterSpec;
128             \}
129         \}
130         
131         \textcolor{keywordflow}{return} $filters;
132     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_acff925772bdea0601cc8c926ca11d51e}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!get\+Model@{get\+Model}}
\index{get\+Model@{get\+Model}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{get\+Model}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::get\+Model (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_acff925772bdea0601cc8c926ca11d51e}
Create and return an instance of a \hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1ModelRepository}{Model\+Repository} or the configure model

\begin{DoxyReturn}{Returns}
Generic\+Model\+Repository 
\end{DoxyReturn}

\begin{DoxyCode}
62     \{
63         \textcolor{keywordflow}{if} (is\_null($this->modelRepository))
64         \{
65             $this->modelRepository = \textcolor{keyword}{new} ModelRepository($this->model);
66         \}
67         \textcolor{keywordflow}{return} $this->modelRepository;
68     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a2df6de75ae3dd493df1434ce3d873d6a}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!get\+Page\+Size@{get\+Page\+Size}}
\index{get\+Page\+Size@{get\+Page\+Size}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{get\+Page\+Size}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::get\+Page\+Size (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a2df6de75ae3dd493df1434ce3d873d6a}
Get size of the page \begin{DoxyReturn}{Returns}
integer 
\end{DoxyReturn}

\begin{DoxyCode}
85     \{
86         \textcolor{keywordflow}{return} Input::get(\textcolor{stringliteral}{'per\_page'}, $this->pageSize);
87     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a826646a41749725d945ceb2ff08c3852}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!get\+Sort\+By@{get\+Sort\+By}}
\index{get\+Sort\+By@{get\+Sort\+By}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{get\+Sort\+By}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::get\+Sort\+By (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a826646a41749725d945ceb2ff08c3852}
Get fields to sort by \begin{DoxyReturn}{Returns}
array 
\end{DoxyReturn}

\begin{DoxyCode}
94     \{
95         $sortBy = Input::get(\textcolor{stringliteral}{'sort'}, \textcolor{stringliteral}{''});
96         $sortBy = explode(\textcolor{charliteral}{','}, $sortBy);
97         $sortBy = array\_map(\textcolor{keyword}{function}($s) \{
98             $s = strtolower(trim($s));
99             \textcolor{keywordflow}{return} $s;
100         \}, $sortBy);
101         \textcolor{keywordflow}{return} $sortBy;
102     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a35abd35dbcf2d6cdafc569bb4a574756}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!get\+Transformer@{get\+Transformer}}
\index{get\+Transformer@{get\+Transformer}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{get\+Transformer}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::get\+Transformer (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a35abd35dbcf2d6cdafc569bb4a574756}
Create a new instance of the transformer of this resource \begin{DoxyReturn}{Returns}
\hyperlink{namespaceDMA}{D\+M\+A} 
\end{DoxyReturn}

\begin{DoxyCode}
75     \{
76         \textcolor{keywordflow}{return} \textcolor{keyword}{new} $this->transformer;
77     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_abcc8bf44739a7a7acc1a764a99651ed1}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!index@{index}}
\index{index@{index}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{index}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::index (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_abcc8bf44739a7a7acc1a764a99651ed1}
Display a listing of items

\begin{DoxyReturn}{Returns}
Response 
\end{DoxyReturn}

\begin{DoxyCode}
198     \{
199         \textcolor{keywordflow}{try} \{
200             $model      = $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_acff925772bdea0601cc8c926ca11d51e}{getModel}();
201             $query      = $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a98884c60fd1cd6a4b22b6b549c97e1e1}{applyFilters}($model);
202             
203             \textcolor{comment}{// Paginate result}
204             \textcolor{keywordflow}{return} $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_aed3811d426c80763855a43280f822f97}{paginateResult}($query);
205         \} \textcolor{keywordflow}{catch}(\(\backslash\)\hyperlink{namespaceException}{Exception} $e) \{
206             \textcolor{comment}{// Send exception to log}
207             Log::error($e->getMessage());
208             Log::error($e->getTraceAsString());
209             
210             $message = $e->getMessage();
211             \textcolor{keywordflow}{return} Response::api()->errorInternalError($message);
212         \}
213     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_aed3811d426c80763855a43280f822f97}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!paginate\+Result@{paginate\+Result}}
\index{paginate\+Result@{paginate\+Result}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{paginate\+Result}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::paginate\+Result (
\begin{DoxyParamCaption}
\item[{Builder}]{\$query}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_aed3811d426c80763855a43280f822f97}
Paginate resultset


\begin{DoxyParams}[1]{Parameters}
Builder & {\em \$query} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Response 
\end{DoxyReturn}

\begin{DoxyCode}
170     \{
171         \textcolor{keywordflow}{try} \{
172             $pageSize   = $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a2df6de75ae3dd493df1434ce3d873d6a}{getPageSize}();
173     
174             \textcolor{keywordflow}{if} ($pageSize > 0)\{
175                 $paginator = $query->paginate($pageSize);
176                 \textcolor{keywordflow}{return} Response::api()->withPaginator($paginator, $this->
      \hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a35abd35dbcf2d6cdafc569bb4a574756}{getTransformer}());
177             \}\textcolor{keywordflow}{else}\{
178                 \textcolor{keywordflow}{return} Response::api()->withCollection($query->get(), $this->
      \hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a35abd35dbcf2d6cdafc569bb4a574756}{getTransformer}());
179             \}
180         \} \textcolor{keywordflow}{catch}(\(\backslash\)\hyperlink{namespaceException}{Exception} $e) \{
181     
182             $message = $e->getMessage();
183             \textcolor{keywordflow}{if}( $e instanceof QueryException)\{
184                 \(\backslash\)Log::error(\textcolor{stringliteral}{'API endpoint '} . get\_class($this) . \textcolor{stringliteral}{' : '} . $e->getMessage());
185                 $message = \textcolor{stringliteral}{'One or multiple filter fields does not exists in the model'};
186             \}
187             \textcolor{keywordflow}{return} Response::api()->errorInternalError($message);
188         \}
189     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_aba517716fdd7a8bfeaa947bea12a52ed}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!show@{show}}
\index{show@{show}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{show}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::show (
\begin{DoxyParamCaption}
\item[{}]{\$id}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_aba517716fdd7a8bfeaa947bea12a52ed}
Display the specified item.


\begin{DoxyParams}[1]{Parameters}
int & {\em \$id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Response 
\end{DoxyReturn}

\begin{DoxyCode}
242     \{
243         \textcolor{keywordflow}{try} \{
244             $model = $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_acff925772bdea0601cc8c926ca11d51e}{getModel}();
245             $instance = $model->findOrFail($id);
246             \textcolor{keywordflow}{return} Response::api()->withItem($instance, $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a35abd35dbcf2d6cdafc569bb4a574756}{getTransformer}());
247         \}\textcolor{keywordflow}{catch}(ModelNotFoundException $e) \{
248             \textcolor{keywordflow}{return} Response::api()->errorNotFound();
249         \}\textcolor{keywordflow}{catch}(\hyperlink{namespaceException}{Exception} $e)\{
250             \textcolor{comment}{// Send exception to log}
251             Log::error($e->getMessage());
252             Log::error($e->getTraceAsString());
253             
254             \textcolor{keywordflow}{return} Response::api()->errorInternalError($e->getMessage());
255         \}
256     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_ad7d43d3d9f020cf95b9da13ed8644cdb}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!store@{store}}
\index{store@{store}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{store}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::store (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_ad7d43d3d9f020cf95b9da13ed8644cdb}
Store a newly created item in storage.

\begin{DoxyReturn}{Returns}
Response 
\end{DoxyReturn}

\begin{DoxyCode}
231     \{
232         \textcolor{keywordflow}{return} Response::api()->errorForbidden();
233     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_af371caf5658c4f4017536ffffa87a754}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!update@{update}}
\index{update@{update}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{update}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::update (
\begin{DoxyParamCaption}
\item[{}]{\$id}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_af371caf5658c4f4017536ffffa87a754}
Update the specified item in storage.


\begin{DoxyParams}[1]{Parameters}
int & {\em \$id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Response 
\end{DoxyReturn}

\begin{DoxyCode}
276     \{
277         \textcolor{keywordflow}{return} Response::api()->errorForbidden();
278 
279     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a14f6d0add80bab42202323d70e3c645f}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}!update\+Model\+Data@{update\+Model\+Data}}
\index{update\+Model\+Data@{update\+Model\+Data}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+A\+P\+I\+::\+Base\+Resource}}
\subsubsection[{update\+Model\+Data}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+A\+P\+I\textbackslash{}\+Base\+Resource\+::update\+Model\+Data (
\begin{DoxyParamCaption}
\item[{}]{\$model, }
\item[{}]{\$data, }
\item[{}]{\$attrs\+To\+Update}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{classDMA_1_1Friends_1_1Classes_1_1API_1_1BaseResource_a14f6d0add80bab42202323d70e3c645f}
Helper method to update models attributes 
\begin{DoxyParams}[1]{Parameters}
unknown & {\em \$model} & \\
\hline
array & {\em \$data} & \\
\hline
array & {\em \$attrs\+To\+Update} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
unknown 
\end{DoxyReturn}

\begin{DoxyCode}
302     \{
303         \textcolor{keywordflow}{foreach} ($attrsToUpdate as $attr) \{
304             $new\_value = array\_get($data, $attr, null);
305             \textcolor{keywordflow}{if}(!is\_null($new\_value)) \{
306                 $model->\{$attr\} = $new\_value;
307             \}
308         \}
309         \textcolor{keywordflow}{return} $model;
310     \}
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
classes/api/Base\+Resource.\+php\end{DoxyCompactItemize}
