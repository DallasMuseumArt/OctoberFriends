\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient}{}\section{D\+M\+A\textbackslash{}Friends\textbackslash{}Classes\textbackslash{}Mailchimp\textbackslash{}Base\+Mailchimp\+Client Class Reference}
\label{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient}\index{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Mailchimp\textbackslash{}\+Base\+Mailchimp\+Client@{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Mailchimp\textbackslash{}\+Base\+Mailchimp\+Client}}
Inheritance diagram for D\+M\+A\textbackslash{}Friends\textbackslash{}Classes\textbackslash{}Mailchimp\textbackslash{}Base\+Mailchimp\+Client\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{d1/dd6/classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a4377953c998ef52d14b2f57a1dff6973}{\+\_\+\+\_\+construct} (\$api\+Key)
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a95092360349c0ba1ecb1cfe15be3b76a}{test\+Connection} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a66c564aa4d03977776de6a16ea2c4a8b}{get\+Member\+I\+D} (\$email)
\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_ab585a80646f3345251c3ac8d1d2593e8}{}{\bfseries request} (\$verb, \$endpoint, array \$params=\mbox{[}$\,$\mbox{]})\label{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_ab585a80646f3345251c3ac8d1d2593e8}

\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a0597a22d52cba2eb3ef7f870fb90c574}{\+\_\+\+\_\+call} (\$method, \$arguments)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_ab8ce8a5ff60b428f9af63c4a7ff9bbcf}{M\+E\+M\+B\+E\+R\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+B\+S\+C\+R\+I\+B\+E\+D} = \textquotesingle{}subscribed\textquotesingle{}
\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a3b3e2c69c2f8705f9193bbb8579e216f}{}const {\bfseries M\+E\+M\+B\+E\+R\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+S\+U\+B\+S\+C\+R\+I\+B\+E\+D} = \textquotesingle{}unsubscribed\textquotesingle{}\label{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a3b3e2c69c2f8705f9193bbb8579e216f}

\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a1b86d06e504071cf7d3f64b816c851b1}{}const {\bfseries M\+E\+M\+B\+E\+R\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+L\+E\+A\+N\+E\+D} = \textquotesingle{}cleaned\textquotesingle{}\label{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a1b86d06e504071cf7d3f64b816c851b1}

\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a76e1e623981a4d9d78eee8fdbe4d9771}{}const {\bfseries M\+E\+M\+B\+E\+R\+\_\+\+S\+T\+A\+U\+T\+S\+\_\+\+P\+E\+N\+D\+I\+N\+G} = \textquotesingle{}pending\textquotesingle{}\label{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a76e1e623981a4d9d78eee8fdbe4d9771}

\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_addab4174c730f2d644a39ffd7f9aa7c0}{}{\bfseries get\+Client} ()\label{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_addab4174c730f2d644a39ffd7f9aa7c0}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Basic client to access Mailchimp api. All calls are asynchronous therefore they return a promise.

\begin{DoxyAuthor}{Author}
carroyo 
\end{DoxyAuthor}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a4377953c998ef52d14b2f57a1dff6973}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client}!\+\_\+\+\_\+construct@{\+\_\+\+\_\+construct}}
\index{\+\_\+\+\_\+construct@{\+\_\+\+\_\+construct}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client}}
\subsubsection[{\+\_\+\+\_\+construct}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Mailchimp\textbackslash{}\+Base\+Mailchimp\+Client\+::\+\_\+\+\_\+construct (
\begin{DoxyParamCaption}
\item[{}]{\$api\+Key}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a4377953c998ef52d14b2f57a1dff6973}

\begin{DoxyParams}{Parameters}
{\em \$api\+Key} & stirng Mailchimp api key to user \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
45     \{
46         \textcolor{keywordflow}{try}\{
47             $this->dataCenter = explode(\textcolor{charliteral}{'-'}, $apiKey);
48             $this->dataCenter = $this->dataCenter[1];
49             $this->apiKey = $apiKey;
50             $this->baseUrl = sprintf($this->baseUrl, $this->dataCenter);
51         \}\textcolor{keywordflow}{catch}(\hyperlink{namespaceException}{Exception} $e)\{
52             \textcolor{keywordflow}{throw} \textcolor{keyword}{new} \hyperlink{namespaceException}{Exception}(\textcolor{stringliteral}{'API key is invalid'});
53         \}
54 
55     \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a0597a22d52cba2eb3ef7f870fb90c574}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client}!\+\_\+\+\_\+call@{\+\_\+\+\_\+call}}
\index{\+\_\+\+\_\+call@{\+\_\+\+\_\+call}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client}}
\subsubsection[{\+\_\+\+\_\+call}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Mailchimp\textbackslash{}\+Base\+Mailchimp\+Client\+::\+\_\+\+\_\+call (
\begin{DoxyParamCaption}
\item[{}]{\$method, }
\item[{}]{\$arguments}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a0597a22d52cba2eb3ef7f870fb90c574}

\begin{DoxyParams}[1]{Parameters}
string & {\em \$method} & \\
\hline
array & {\em \$arguments} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Collection 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em Exception} & \\
\hline
\end{DoxyExceptions}

\begin{DoxyCode}
152     \{
153 
154         \textcolor{keywordflow}{if} (count($arguments) < 1) \{
155             \textcolor{keywordflow}{throw} \textcolor{keyword}{new} \hyperlink{namespaceInvalidArgumentException}{InvalidArgumentException}(\textcolor{stringliteral}{'URI endpoint is required'});
156         \}
157         \textcolor{keywordflow}{if} ( ! in\_array($method, $this->allowedMethods)) \{
158             \textcolor{keywordflow}{throw} \textcolor{keyword}{new} BadMethodCallException(\textcolor{stringliteral}{'Method "'} . $method . \textcolor{stringliteral}{'" is not supported.'});
159         \}
160         $endpoint = $arguments[0];
161         $options  = isset($arguments[1]) ? $arguments[1] : [];
162         $callback = isset($arguments[2]) ? $arguments[2] : NULL;
163         $method   = strtoupper($method);
164         
165         \textcolor{keywordflow}{return} $this->request($method, $endpoint, $options, $callback);
166     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a66c564aa4d03977776de6a16ea2c4a8b}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client}!get\+Member\+I\+D@{get\+Member\+I\+D}}
\index{get\+Member\+I\+D@{get\+Member\+I\+D}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client}}
\subsubsection[{get\+Member\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Mailchimp\textbackslash{}\+Base\+Mailchimp\+Client\+::get\+Member\+I\+D (
\begin{DoxyParamCaption}
\item[{}]{\$email}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a66c564aa4d03977776de6a16ea2c4a8b}
Helper function to get Member identification 
\begin{DoxyParams}{Parameters}
{\em \$email} & User email address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}

\begin{DoxyCode}
85     \{
86         \textcolor{comment}{// sanatize email address}
87         $email = strtolower(trim($email));
88         \textcolor{keywordflow}{return} md5($email);
89     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a95092360349c0ba1ecb1cfe15be3b76a}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client}!test\+Connection@{test\+Connection}}
\index{test\+Connection@{test\+Connection}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client}}
\subsubsection[{test\+Connection}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Mailchimp\textbackslash{}\+Base\+Mailchimp\+Client\+::test\+Connection (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_a95092360349c0ba1ecb1cfe15be3b76a}
Test Mailchip connection \begin{DoxyReturn}{Returns}

\end{DoxyReturn}

\begin{DoxyCode}
73     \{
74         $client = $this->getClient();
75         $response = $client->get(\textcolor{stringliteral}{''});
76         \textcolor{keywordflow}{return} \textcolor{keyword}{new} MailchimpResponse($response);      
77     \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_ab8ce8a5ff60b428f9af63c4a7ff9bbcf}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client}!M\+E\+M\+B\+E\+R\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+B\+S\+C\+R\+I\+B\+E\+D@{M\+E\+M\+B\+E\+R\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+B\+S\+C\+R\+I\+B\+E\+D}}
\index{M\+E\+M\+B\+E\+R\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+B\+S\+C\+R\+I\+B\+E\+D@{M\+E\+M\+B\+E\+R\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+B\+S\+C\+R\+I\+B\+E\+D}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Mailchimp\+::\+Base\+Mailchimp\+Client}}
\subsubsection[{M\+E\+M\+B\+E\+R\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+B\+S\+C\+R\+I\+B\+E\+D}]{\setlength{\rightskip}{0pt plus 5cm}const D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Mailchimp\textbackslash{}\+Base\+Mailchimp\+Client\+::\+M\+E\+M\+B\+E\+R\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+B\+S\+C\+R\+I\+B\+E\+D = \textquotesingle{}subscribed\textquotesingle{}}\label{classDMA_1_1Friends_1_1Classes_1_1Mailchimp_1_1BaseMailchimpClient_ab8ce8a5ff60b428f9af63c4a7ff9bbcf}
Notes\+: Use member status as follow
\begin{DoxyItemize}
\item To send a confirmation email, use \textquotesingle{}pending\textquotesingle{}.
\item To archive unused meembers, use \textquotesingle{}unsubscribed\textquotesingle{} or \textquotesingle{}cleaned\textquotesingle{}. 
\end{DoxyItemize}

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
classes/mailchimp/Base\+Mailchimp\+Client.\+php\end{DoxyCompactItemize}
