\hypertarget{classDMA_1_1Friends_1_1Classes_1_1FriendsLog}{\section{D\-M\-A\textbackslash{}Friends\textbackslash{}Classes\textbackslash{}Friends\-Log Class Reference}
\label{classDMA_1_1Friends_1_1Classes_1_1FriendsLog}\index{D\-M\-A\textbackslash{}\-Friends\textbackslash{}\-Classes\textbackslash{}\-Friends\-Log@{D\-M\-A\textbackslash{}\-Friends\textbackslash{}\-Classes\textbackslash{}\-Friends\-Log}}
}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a99a5a2ee4bc69aab07f58308d9cee669}{write} (\$action, array \$params)
\item 
static \hyperlink{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a0b90db29da51f53991f2dcc1a55f14c7}{activity} (\$params)
\item 
static \hyperlink{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_aa3c63d0a5b1ffcd9f58c03e443a2dc8f}{artwork} (\$params)
\item 
static \hyperlink{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_ae6c33847a3d3f094a3bd27ac2dbbfa72}{checkin} (\$params)
\item 
static \hyperlink{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a083fa01b3e143ca77bdbb1562db724de}{points} (\$params)
\item 
static \hyperlink{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a9f38b9c2e3b1c9d36bc7a1247b2571eb}{reward} (\$params)
\item 
static \hyperlink{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_ac7705d4873f6b3156efde3e049a21ca6}{unlocked} (\$params)
\end{DoxyCompactItemize}


\subsection{Member Function Documentation}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a0b90db29da51f53991f2dcc1a55f14c7}{\index{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log@{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log}!activity@{activity}}
\index{activity@{activity}!DMA::Friends::Classes::FriendsLog@{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log}}
\subsubsection[{activity}]{\setlength{\rightskip}{0pt plus 5cm}static D\-M\-A\textbackslash{}\-Friends\textbackslash{}\-Classes\textbackslash{}\-Friends\-Log\-::activity (
\begin{DoxyParamCaption}
\item[{}]{\$params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a0b90db29da51f53991f2dcc1a55f14c7}
Log an activity

\$params An array of parameters to log See \hyperlink{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a99a5a2ee4bc69aab07f58308d9cee669}{write()} for details

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\begin{DoxyCode}
62     \{
63         self::write(\textcolor{stringliteral}{'activity'}, $params);
64     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_aa3c63d0a5b1ffcd9f58c03e443a2dc8f}{\index{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log@{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log}!artwork@{artwork}}
\index{artwork@{artwork}!DMA::Friends::Classes::FriendsLog@{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log}}
\subsubsection[{artwork}]{\setlength{\rightskip}{0pt plus 5cm}static D\-M\-A\textbackslash{}\-Friends\textbackslash{}\-Classes\textbackslash{}\-Friends\-Log\-::artwork (
\begin{DoxyParamCaption}
\item[{}]{\$params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_aa3c63d0a5b1ffcd9f58c03e443a2dc8f}
Log an artwork activity See \hyperlink{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a99a5a2ee4bc69aab07f58308d9cee669}{write()} for details

\$params An array of parameters to log

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\begin{DoxyCode}
76     \{
77         self::write(\textcolor{stringliteral}{'artwork'}, $params);
78     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_ae6c33847a3d3f094a3bd27ac2dbbfa72}{\index{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log@{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log}!checkin@{checkin}}
\index{checkin@{checkin}!DMA::Friends::Classes::FriendsLog@{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log}}
\subsubsection[{checkin}]{\setlength{\rightskip}{0pt plus 5cm}static D\-M\-A\textbackslash{}\-Friends\textbackslash{}\-Classes\textbackslash{}\-Friends\-Log\-::checkin (
\begin{DoxyParamCaption}
\item[{}]{\$params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_ae6c33847a3d3f094a3bd27ac2dbbfa72}
Log a checkin See \hyperlink{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a99a5a2ee4bc69aab07f58308d9cee669}{write()} for details

\$params An array of parameters to log

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\begin{DoxyCode}
90     \{
91         self::write(\textcolor{stringliteral}{'checkin'}, $params);
92     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a083fa01b3e143ca77bdbb1562db724de}{\index{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log@{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log}!points@{points}}
\index{points@{points}!DMA::Friends::Classes::FriendsLog@{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log}}
\subsubsection[{points}]{\setlength{\rightskip}{0pt plus 5cm}static D\-M\-A\textbackslash{}\-Friends\textbackslash{}\-Classes\textbackslash{}\-Friends\-Log\-::points (
\begin{DoxyParamCaption}
\item[{}]{\$params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a083fa01b3e143ca77bdbb1562db724de}
Log when a user has been awarded points See \hyperlink{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a99a5a2ee4bc69aab07f58308d9cee669}{write()} for details

\$params An array of parameters to log

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\begin{DoxyCode}
104     \{
105         self::write(\textcolor{stringliteral}{'points'}, $params);
106     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a9f38b9c2e3b1c9d36bc7a1247b2571eb}{\index{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log@{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log}!reward@{reward}}
\index{reward@{reward}!DMA::Friends::Classes::FriendsLog@{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log}}
\subsubsection[{reward}]{\setlength{\rightskip}{0pt plus 5cm}static D\-M\-A\textbackslash{}\-Friends\textbackslash{}\-Classes\textbackslash{}\-Friends\-Log\-::reward (
\begin{DoxyParamCaption}
\item[{}]{\$params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a9f38b9c2e3b1c9d36bc7a1247b2571eb}
Log when a user redeems a reward See \hyperlink{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a99a5a2ee4bc69aab07f58308d9cee669}{write()} for details

\$params An array of parameters to log

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\begin{DoxyCode}
118     \{
119         self::write(\textcolor{stringliteral}{'reward'}, $params);
120     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_ac7705d4873f6b3156efde3e049a21ca6}{\index{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log@{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log}!unlocked@{unlocked}}
\index{unlocked@{unlocked}!DMA::Friends::Classes::FriendsLog@{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log}}
\subsubsection[{unlocked}]{\setlength{\rightskip}{0pt plus 5cm}static D\-M\-A\textbackslash{}\-Friends\textbackslash{}\-Classes\textbackslash{}\-Friends\-Log\-::unlocked (
\begin{DoxyParamCaption}
\item[{}]{\$params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_ac7705d4873f6b3156efde3e049a21ca6}
Log when a user unlocks an achievement See \hyperlink{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a99a5a2ee4bc69aab07f58308d9cee669}{write()} for details

\$params An array of parameters to log

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\begin{DoxyCode}
132     \{
133         self::write(\textcolor{stringliteral}{'unlocked'}, $params);
134     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a99a5a2ee4bc69aab07f58308d9cee669}{\index{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log@{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log}!write@{write}}
\index{write@{write}!DMA::Friends::Classes::FriendsLog@{D\-M\-A\-::\-Friends\-::\-Classes\-::\-Friends\-Log}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}static D\-M\-A\textbackslash{}\-Friends\textbackslash{}\-Classes\textbackslash{}\-Friends\-Log\-::write (
\begin{DoxyParamCaption}
\item[{}]{\$action, }
\item[{array}]{\$params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classDMA_1_1Friends_1_1Classes_1_1FriendsLog_a99a5a2ee4bc69aab07f58308d9cee669}
Write a log entry to the activity log


\begin{DoxyParams}{Parameters}
{\em \$action} & The type of action to be logged\\
\hline
{\em \$params} & An array of parameters about the log entry
\begin{DoxyItemize}
\item 'user'\-: The user object to associate the log entry
\item 'message'\-: A log message
\item (optional) 'object'\-: A database model to associate the log with
\item (optional) 'points\-\_\-earned'\-: The number of points earned by the action
\item (optional) 'artwork\-\_\-id'\-: The assession number of an artwork to associate the log entry 
\end{DoxyItemize}\\
\hline
\end{DoxyParams}

\begin{DoxyCode}
26     \{
27         $log                = \textcolor{keyword}{new} ActivityLog;
28         $log->user          = $params[\textcolor{stringliteral}{'user'}];
29         $log->site\_id       = gethostname();
30         $log->action        = $action;
31         $log->message       = $params[\textcolor{stringliteral}{'message'}];
32         $log->points\_earned = isset($params[\textcolor{stringliteral}{'points\_earned'}]) ? $params[\textcolor{stringliteral}{'points\_earned'}] : 0;
33         $log->timestamp     = \textcolor{keyword}{new} DateTime(\textcolor{stringliteral}{'now'});
34 
35         \textcolor{keywordflow}{if} (isset($params[\textcolor{stringliteral}{'artwork\_id'}])) \{
36             $log->artwork\_id = $params[\textcolor{stringliteral}{'artwork\_id'}];
37         \}
38 
39         $log->save();
40 
41         \textcolor{comment}{// Associate an object if present}
42         \textcolor{keywordflow}{if} (isset($params[\textcolor{stringliteral}{'object'}]) && !empty($params[\textcolor{stringliteral}{'object'}])) \{
43             $params[\textcolor{stringliteral}{'object'}]->activityLogs()->save($log);
44         \}
45 
46     \}
\end{DoxyCode}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
classes/Friends\-Log.\-php\end{DoxyCompactItemize}
