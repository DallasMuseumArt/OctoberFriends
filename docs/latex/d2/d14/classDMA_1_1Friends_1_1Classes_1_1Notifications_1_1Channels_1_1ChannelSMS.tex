\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS}{\section{D\+M\+A\textbackslash{}Friends\textbackslash{}Classes\textbackslash{}Notifications\textbackslash{}Channels\textbackslash{}Channel\+S\+M\+S Class Reference}
\label{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS}\index{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Channel\+S\+M\+S@{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Channel\+S\+M\+S}}
}
Inheritance diagram for D\+M\+A\textbackslash{}Friends\textbackslash{}Classes\textbackslash{}Notifications\textbackslash{}Channels\textbackslash{}Channel\+S\+M\+S\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=1.060606cm]{d2/d14/classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a262b4247250915521d2d9962c9624fc7}{get\+Details} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a3b57af73b9e017991e9872232717b686}{config\+Channel} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_aee4d07da05caa5a14b8c126d6ccf2083}{setting\+Fields} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a74d477bcee51e0a8d4c27e482e775eb8}{send} (\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1NotificationMessage}{Notification\+Message} \$message)
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_ad07cd397e4a5d268f56cf59c850f1583}{read} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a64e0d1bb196c93b02f3f208b50574c76}{webhook} (array \$request)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_ae6e3c43b02d2ccbb3fc4bd63ac5d7c9e}{get\+Key} ()
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a8d32e94f3f24ede631441da75b3084e6}{clean\+Phone} (\$phone)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{interfaceDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1Channel}{Channel} for sending S\+M\+S notification using Twilio as gateway \begin{DoxyAuthor}{Author}
Carlos Arroyo 
\end{DoxyAuthor}


\subsection{Member Function Documentation}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a8d32e94f3f24ede631441da75b3084e6}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}!clean\+Phone@{clean\+Phone}}
\index{clean\+Phone@{clean\+Phone}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}}
\subsubsection[{clean\+Phone}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Channel\+S\+M\+S\+::clean\+Phone (
\begin{DoxyParamCaption}
\item[{}]{\$phone}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a8d32e94f3f24ede631441da75b3084e6}
Clean phone number for Twilio 
\begin{DoxyParams}[1]{Parameters}
string & {\em \$phone} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}

\begin{DoxyCode}
84     \{
85         $phone = preg\_replace(\textcolor{stringliteral}{'/\(\backslash\)\(\backslash\)D+/'}, \textcolor{stringliteral}{''}, $phone);
86         \textcolor{keywordflow}{if}(!empty($phone))\{
87             \textcolor{keywordflow}{return} \textcolor{charliteral}{'+'} . $phone;
88         \}
89         \textcolor{keywordflow}{return} \textcolor{stringliteral}{''};
90     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a3b57af73b9e017991e9872232717b686}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}!config\+Channel@{config\+Channel}}
\index{config\+Channel@{config\+Channel}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}}
\subsubsection[{config\+Channel}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Channel\+S\+M\+S\+::config\+Channel (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a3b57af73b9e017991e9872232717b686}
Load channel configurations. \begin{DoxySeeAlso}{See also}
\+::config\+Channel() 
\end{DoxySeeAlso}


Implements \hyperlink{interfaceDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1Channel_a63df08fbca39589ea32f729d9485cb37}{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Channel}.


\begin{DoxyCode}
46     \{
47         \textcolor{comment}{// TOOD : get this values for OctoberCMS settings}
48         $accountSid = Settings::get(\textcolor{stringliteral}{'twilio\_account\_id'});
49         $authToken  = Settings::get(\textcolor{stringliteral}{'twilio\_auth\_token'});       
50         $this->fromNumber = $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a8d32e94f3f24ede631441da75b3084e6}{cleanPhone}(Settings::get(\textcolor{stringliteral}{'twilio\_default\_from\_number'}));
51 
52         $this->client = \textcolor{keyword}{new} \hyperlink{namespaceServices__Twilio}{Services\_Twilio}($accountSid, $authToken);
53     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a262b4247250915521d2d9962c9624fc7}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}!get\+Details@{get\+Details}}
\index{get\+Details@{get\+Details}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}}
\subsubsection[{get\+Details}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Channel\+S\+M\+S\+::get\+Details (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a262b4247250915521d2d9962c9624fc7}
Return details of the channel. Manly used in the Backend interface.

\begin{DoxyReturn}{Returns}
array
\end{DoxyReturn}
eg. \mbox{[} 'name' =$>$ 'Kiosk', 'description' =$>$ 'Store notification in the database. So they can be read in a Kiosk or a Web interface.' \mbox{]} \begin{DoxySeeAlso}{See also}
\+::get\+Details() 
\end{DoxySeeAlso}


Implements \hyperlink{interfaceDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1Channel_a78e25e374398ef085f37fb8d22203bdb}{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Channel}.


\begin{DoxyCode}
34     \{
35         \textcolor{keywordflow}{return} [
36                 \textcolor{stringliteral}{'name'}           => \textcolor{stringliteral}{'SMS'},
37                 \textcolor{stringliteral}{'description'}    => \textcolor{stringliteral}{'Send notifications by SMS using Twilio.'}
38         ];
39     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_ae6e3c43b02d2ccbb3fc4bd63ac5d7c9e}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}!get\+Key@{get\+Key}}
\index{get\+Key@{get\+Key}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}}
\subsubsection[{get\+Key}]{\setlength{\rightskip}{0pt plus 5cm}static D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Channel\+S\+M\+S\+::get\+Key (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_ae6e3c43b02d2ccbb3fc4bd63ac5d7c9e}
Used to identify view per channel.

\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}


Implements \hyperlink{interfaceDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1Channel_a53b32a2d7c27477655a9d4b87164c203}{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Channel}.


\begin{DoxyCode}
25     \{
26         \textcolor{keywordflow}{return} \textcolor{stringliteral}{'sms'};
27     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_ad07cd397e4a5d268f56cf59c850f1583}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}!read@{read}}
\index{read@{read}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}}
\subsubsection[{read}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Channel\+S\+M\+S\+::read (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_ad07cd397e4a5d268f56cf59c850f1583}
Implemented specific logic for each channel for retriving incoming data through the channel.

\begin{DoxyReturn}{Returns}
array Array of \hyperlink{namespaceDMA}{D\+M\+A}
\end{DoxyReturn}
 \begin{DoxySeeAlso}{See also}
\+::read\+Channel() 
\end{DoxySeeAlso}


Implements \hyperlink{interfaceDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1Listenable_aebc4dc5c57897e075a719e911a590d6e}{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Listenable}.


\begin{DoxyCode}
121     \{
122         \textcolor{keywordflow}{return} [];
123     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a74d477bcee51e0a8d4c27e482e775eb8}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}!send@{send}}
\index{send@{send}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}}
\subsubsection[{send}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Channel\+S\+M\+S\+::send (
\begin{DoxyParamCaption}
\item[{{\bf Notification\+Message}}]{\$message}
\end{DoxyParamCaption}
)}}\label{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a74d477bcee51e0a8d4c27e482e775eb8}
Send notifiation 
\begin{DoxyParams}{Parameters}
{\em \hyperlink{namespaceDMA}{D\+M\+A}} & Friends \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
boolean
\end{DoxyReturn}
 \begin{DoxySeeAlso}{See also}
\+::send() 
\end{DoxySeeAlso}


Implements \hyperlink{interfaceDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1Channel_a8138dfd93ce9617213637789e793f4c7}{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Channel}.


\begin{DoxyCode}
97     \{
98 
99         \textcolor{comment}{// TODO : add validation to control the size of the message.}
100         $toUser  = $message->getTo();
101         $data    = $message->getData();
102         $txt     = $message->getContent();
103 
104         \textcolor{comment}{// Clean phone user}
105         $toPhone = $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a8d32e94f3f24ede631441da75b3084e6}{cleanPhone}($toUser->phone);
106         \textcolor{keywordflow}{if}(!empty($toPhone))\{
107             $sms = $this->client->account->sms\_messages->create(
108                     $this->fromNumber, \textcolor{comment}{// From a Twilio number in your account}
109                     $toPhone, \textcolor{comment}{// Text any number}
110                     $txt
111             );
112         \}
113        
114     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_aee4d07da05caa5a14b8c126d6ccf2083}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}!setting\+Fields@{setting\+Fields}}
\index{setting\+Fields@{setting\+Fields}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}}
\subsubsection[{setting\+Fields}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Channel\+S\+M\+S\+::setting\+Fields (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_aee4d07da05caa5a14b8c126d6ccf2083}
Return settings fields for this channel. For futher information go to \href{http://octobercms.com/docs/plugin/settings#database-settings}{\tt http\+://octobercms.\+com/docs/plugin/settings\#database-\/settings}

\begin{DoxyReturn}{Returns}
array
\end{DoxyReturn}
 \begin{DoxySeeAlso}{See also}
\+::setting\+Fields() 
\end{DoxySeeAlso}


Implements \hyperlink{interfaceDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1Channel_aa473115fa58a6fa5f57a9069f23dd771}{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Channel}.


\begin{DoxyCode}
60     \{
61         \textcolor{keywordflow}{return} [
62             \textcolor{stringliteral}{'twilio\_account\_id'} => [
63                 \textcolor{stringliteral}{'label'} => \textcolor{stringliteral}{'Twilio account ID'},
64                 \textcolor{stringliteral}{'span'}  => \textcolor{stringliteral}{'auto'}
65             ],
66             \textcolor{stringliteral}{'twilio\_auth\_token'} => [
67                  \textcolor{stringliteral}{'label'} => \textcolor{stringliteral}{'Twilio authentication token'},
68                  \textcolor{stringliteral}{'span'}  => \textcolor{stringliteral}{'auto'}
69             ],
70             \textcolor{stringliteral}{'twilio\_default\_from\_number'} => [
71                  \textcolor{stringliteral}{'label'} => \textcolor{stringliteral}{'Twilio default from number'},
72                  \textcolor{stringliteral}{'span'}  => \textcolor{stringliteral}{'auto'}
73             ],
74         ];
75 
76     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a64e0d1bb196c93b02f3f208b50574c76}{\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}!webhook@{webhook}}
\index{webhook@{webhook}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Notifications\+::\+Channels\+::\+Channel\+S\+M\+S}}
\subsubsection[{webhook}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Channel\+S\+M\+S\+::webhook (
\begin{DoxyParamCaption}
\item[{array}]{\$request}
\end{DoxyParamCaption}
)}}\label{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_a64e0d1bb196c93b02f3f208b50574c76}
Implemented specific logic for each channel for retriving processing webhooks.

\begin{DoxyReturn}{Returns}
Symfony
\end{DoxyReturn}
 \begin{DoxySeeAlso}{See also}
\+::webhook() 
\end{DoxySeeAlso}


Implements \hyperlink{interfaceDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1Webhook_a2836b9b100c55f657ee432bf3a7c9055}{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Notifications\textbackslash{}\+Channels\textbackslash{}\+Webhook}.


\begin{DoxyCode}
130     \{
131         $httpCode = 200;
132         \textcolor{keywordflow}{try}
133         \{
134             $msg = \textcolor{keyword}{new} IncomingMessage($this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_ae6e3c43b02d2ccbb3fc4bd63ac5d7c9e}{getKey}());
135             $msg->from($request[\textcolor{stringliteral}{'From'}]);
136             $msg->setContent($request[\textcolor{stringliteral}{'Body'}]);
137 
138             \textcolor{comment}{// TODO : this should be reusable for other channels}
139             $key = $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1Notifications_1_1Channels_1_1ChannelSMS_ae6e3c43b02d2ccbb3fc4bd63ac5d7c9e}{getKey}();
140             $event = strtolower(\textcolor{stringliteral}{"dma.channel.$key.incoming.data"});
141             Event::fire($event, [[$msg]]);
142             Log::debug(\textcolor{stringliteral}{'Processed Twilio incoming SMS'}, $msg->getData());
143         \}
144         \textcolor{keywordflow}{catch}(\(\backslash\)\hyperlink{namespaceException}{Exception} $e)
145         \{
146             Log::error(\textcolor{stringliteral}{'Processing Twilio webhook request'}, $request);
147             Log::error(sprintf(\textcolor{stringliteral}{'Processing Twilio webhook:  %s'}, $e));
148             $httpCode = 500;
149         \}
150 
151 
152         \textcolor{comment}{// Response message was read ok}
153         return \(\backslash\)Response::make(\textcolor{stringliteral}{'<Response></Response>'}, $httpCode);
154     \}
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
classes/notifications/channels/Channel\+S\+M\+S.\+php\end{DoxyCompactItemize}
