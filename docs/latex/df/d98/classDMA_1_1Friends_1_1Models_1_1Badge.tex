\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge}{}\section{D\+M\+A\textbackslash{}Friends\textbackslash{}Models\textbackslash{}Badge Class Reference}
\label{classDMA_1_1Friends_1_1Models_1_1Badge}\index{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Models\textbackslash{}\+Badge@{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Models\textbackslash{}\+Badge}}
Inheritance diagram for D\+M\+A\textbackslash{}Friends\textbackslash{}Models\textbackslash{}Badge\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{df/d98/classDMA_1_1Friends_1_1Models_1_1Badge}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_a65fc600bfefbedc8d7393ec86c848a51}{}{\bfseries scope\+Not\+Completed} (\$query, User \$user)\label{classDMA_1_1Friends_1_1Models_1_1Badge_a65fc600bfefbedc8d7393ec86c848a51}

\item 
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_a5ebdc91135362ca2b0225fdb0c965127}{}{\bfseries scopefind\+Wordpress} (\$query, \$id)\label{classDMA_1_1Friends_1_1Models_1_1Badge_a5ebdc91135362ca2b0225fdb0c965127}

\item 
\hyperlink{classDMA_1_1Friends_1_1Models_1_1Badge_a77dd406d08ff5c6727ee497e7e7ea5ed}{scope\+Is\+Active} (\$query)
\item 
\hyperlink{classDMA_1_1Friends_1_1Models_1_1Badge_a628b0da2969e586837ad98fecf12ee71}{get\+Time\+Ago\+Attribute} (\$value)
\item 
\hyperlink{classDMA_1_1Friends_1_1Models_1_1Badge_a5e5972aaa2bf8b8458bd6ddff8ebc576}{get\+User\+Count\+Attribute} (\$value)
\item 
\hyperlink{classDMA_1_1Friends_1_1Models_1_1Badge_a3deecf172b12b43e2f0c0bb7c15a00c3}{get\+User\+Progress\+Attribute} ()
\item 
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_a218e9babbcf0db06e0a83e1079e858b2}{}{\bfseries get\+Is\+Bookmarked\+Attribute} ()\label{classDMA_1_1Friends_1_1Models_1_1Badge_a218e9babbcf0db06e0a83e1079e858b2}

\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_aa58560300753d15561b1a979aa21b8fd}{}{\bfseries \$table} = \textquotesingle{}dma\+\_\+friends\+\_\+badges\textquotesingle{}\label{classDMA_1_1Friends_1_1Models_1_1Badge_aa58560300753d15561b1a979aa21b8fd}

\item 
{\bfseries \$rules}
\item 
{\bfseries \$has\+Many}
\item 
{\bfseries \$belongs\+To\+Many}
\item 
{\bfseries \$attach\+One}
\item 
{\bfseries \$morph\+Many}
\item 
{\bfseries \$morph\+To\+Many}
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_ae0b360f20ce06a26af28c91de3f63e11}{}{\bfseries \$guarded} = \mbox{[}\textquotesingle{}$\ast$\textquotesingle{}\mbox{]}\label{classDMA_1_1Friends_1_1Models_1_1Badge_ae0b360f20ce06a26af28c91de3f63e11}

\item 
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_a4d4f326e6071e6d44fdb54d93d579c44}{}{\bfseries \$fillable} = \mbox{[}\textquotesingle{}touch\textquotesingle{}\mbox{]}\label{classDMA_1_1Friends_1_1Models_1_1Badge_a4d4f326e6071e6d44fdb54d93d579c44}

\item 
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_ae8aa2206bbd9a6e152db7691a0dfd0b5}{}{\bfseries \$dates} = \mbox{[}\textquotesingle{}date\+\_\+begin\textquotesingle{}, \textquotesingle{}date\+\_\+end\textquotesingle{}\mbox{]}\label{classDMA_1_1Friends_1_1Models_1_1Badge_ae8aa2206bbd9a6e152db7691a0dfd0b5}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{classDMA_1_1Friends_1_1Models_1_1Badge}{Badge} Model 

\subsection{Member Function Documentation}
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_a628b0da2969e586837ad98fecf12ee71}{}\index{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}!get\+Time\+Ago\+Attribute@{get\+Time\+Ago\+Attribute}}
\index{get\+Time\+Ago\+Attribute@{get\+Time\+Ago\+Attribute}!D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}}
\subsubsection[{get\+Time\+Ago\+Attribute}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Models\textbackslash{}\+Badge\+::get\+Time\+Ago\+Attribute (
\begin{DoxyParamCaption}
\item[{}]{\$value}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Models_1_1Badge_a628b0da2969e586837ad98fecf12ee71}
Mutator function to return the pivot timestamp as time ago \begin{DoxyReturn}{Returns}
string The time since the badge was earned 
\end{DoxyReturn}

\begin{DoxyCode}
94     \{
95         \textcolor{keywordflow}{if} (!isset($this->pivot->created\_at)) \textcolor{keywordflow}{return} null;
96 
97         $timeAgo = \textcolor{keyword}{new} TimeAgo;
98         \textcolor{keywordflow}{return} $timeAgo->get($this->pivot->created\_at);
99     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_a5e5972aaa2bf8b8458bd6ddff8ebc576}{}\index{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}!get\+User\+Count\+Attribute@{get\+User\+Count\+Attribute}}
\index{get\+User\+Count\+Attribute@{get\+User\+Count\+Attribute}!D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}}
\subsubsection[{get\+User\+Count\+Attribute}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Models\textbackslash{}\+Badge\+::get\+User\+Count\+Attribute (
\begin{DoxyParamCaption}
\item[{}]{\$value}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Models_1_1Badge_a5e5972aaa2bf8b8458bd6ddff8ebc576}
Mutator to return the number of times a user has earned a badge \begin{DoxyReturn}{Returns}
int The number of times the authenticated user has earned the badge 
\end{DoxyReturn}

\begin{DoxyCode}
107     \{
108         $user   = Auth::getUser();
109         $count  = $user->badges()->where(\textcolor{stringliteral}{'badge\_id'}, \textcolor{charliteral}{'='}, $this->\textcolor{keywordtype}{id})->count();
110 
111         \textcolor{keywordflow}{return} $count;
112     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_a3deecf172b12b43e2f0c0bb7c15a00c3}{}\index{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}!get\+User\+Progress\+Attribute@{get\+User\+Progress\+Attribute}}
\index{get\+User\+Progress\+Attribute@{get\+User\+Progress\+Attribute}!D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}}
\subsubsection[{get\+User\+Progress\+Attribute}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Models\textbackslash{}\+Badge\+::get\+User\+Progress\+Attribute (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Models_1_1Badge_a3deecf172b12b43e2f0c0bb7c15a00c3}
Mutator to return the percentage of steps completed by the authenticated user \begin{DoxyReturn}{Returns}
int percentage of steps complete 
\end{DoxyReturn}

\begin{DoxyCode}
120     \{
121         $user = Auth::getUser();
122         $ids = [];
123         $stepCount = 0;
124 
125         \textcolor{keywordflow}{foreach}($this->steps as $step) \{
126             $ids[] = $step->id;
127         \}
128 
129         \textcolor{keywordflow}{if} ($ids && $this->userCount) \{
130             $stepCount = DB::table(\textcolor{stringliteral}{'dma\_friends\_step\_user'})
131                 ->whereIn(\textcolor{stringliteral}{'step\_id'}, $ids)
132                 ->where(\textcolor{stringliteral}{'user\_id'}, $user->id)
133                 ->count();
134 
135             $stepCount = $stepCount / $this->userCount;
136         \}
137         
138         \textcolor{keywordflow}{if} ($stepCount)
139             \textcolor{keywordflow}{return} (count($this->steps) / $stepCount) * 100;
140         
141         \textcolor{keywordflow}{return} 0;
142     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_a77dd406d08ff5c6727ee497e7e7ea5ed}{}\index{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}!scope\+Is\+Active@{scope\+Is\+Active}}
\index{scope\+Is\+Active@{scope\+Is\+Active}!D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}}
\subsubsection[{scope\+Is\+Active}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Models\textbackslash{}\+Badge\+::scope\+Is\+Active (
\begin{DoxyParamCaption}
\item[{}]{\$query}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Models_1_1Badge_a77dd406d08ff5c6727ee497e7e7ea5ed}
Return only badage that are active 
\begin{DoxyCode}
82     \{
83         \textcolor{keywordflow}{return} $query->where(\textcolor{stringliteral}{'is\_published'}, \textcolor{keyword}{true})
84                      ->where(\textcolor{stringliteral}{'is\_archived'},  \textcolor{keyword}{false});
85     \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_abd4795b249f74dd23651f51479fbe5fb}{}\index{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}!\$attach\+One@{\$attach\+One}}
\index{\$attach\+One@{\$attach\+One}!D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}}
\subsubsection[{\$attach\+One}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Models\textbackslash{}\+Badge\+::\$attach\+One}\label{classDMA_1_1Friends_1_1Models_1_1Badge_abd4795b249f74dd23651f51479fbe5fb}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= [
        \textcolor{stringliteral}{'image'} => [\textcolor{stringliteral}{'System\(\backslash\)Models\(\backslash\)File'}]
    ]
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_ab143958e8f63d5b612832fee145f0aa1}{}\index{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}!\$belongs\+To\+Many@{\$belongs\+To\+Many}}
\index{\$belongs\+To\+Many@{\$belongs\+To\+Many}!D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}}
\subsubsection[{\$belongs\+To\+Many}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Models\textbackslash{}\+Badge\+::\$belongs\+To\+Many}\label{classDMA_1_1Friends_1_1Models_1_1Badge_ab143958e8f63d5b612832fee145f0aa1}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= [
        \textcolor{stringliteral}{'users'} => [\textcolor{stringliteral}{'RainLab\(\backslash\)User\(\backslash\)Models\(\backslash\)User'}, \textcolor{stringliteral}{'table'} => \textcolor{stringliteral}{'dma\_friends\_badge\_user'}],
    ]
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_a1b363de2d8c44cd12dff6bca90a6b212}{}\index{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}!\$has\+Many@{\$has\+Many}}
\index{\$has\+Many@{\$has\+Many}!D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}}
\subsubsection[{\$has\+Many}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Models\textbackslash{}\+Badge\+::\$has\+Many}\label{classDMA_1_1Friends_1_1Models_1_1Badge_a1b363de2d8c44cd12dff6bca90a6b212}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= [
        \textcolor{stringliteral}{'steps'} => [\textcolor{stringliteral}{'DMA\(\backslash\)Friends\(\backslash\)Models\(\backslash\)Step'}]
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_a239fed984baad287f15badaaece428ff}{}\index{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}!\$morph\+Many@{\$morph\+Many}}
\index{\$morph\+Many@{\$morph\+Many}!D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}}
\subsubsection[{\$morph\+Many}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Models\textbackslash{}\+Badge\+::\$morph\+Many}\label{classDMA_1_1Friends_1_1Models_1_1Badge_a239fed984baad287f15badaaece428ff}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= [
        \textcolor{stringliteral}{'activityLogs'}  => [\textcolor{stringliteral}{'DMA\(\backslash\)Friends\(\backslash\)Models\(\backslash\)ActivityLog'}, \textcolor{stringliteral}{'name'} => \textcolor{stringliteral}{'object'}],
        \textcolor{stringliteral}{'bookmarks'}     => [\textcolor{stringliteral}{'DMA\(\backslash\)Friends\(\backslash\)Models\(\backslash\)Bookmark'}, \textcolor{stringliteral}{'name'} => \textcolor{stringliteral}{'object'}],
    ]
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_a2efb4ca933422dfb4ca416676d73cad0}{}\index{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}!\$morph\+To\+Many@{\$morph\+To\+Many}}
\index{\$morph\+To\+Many@{\$morph\+To\+Many}!D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}}
\subsubsection[{\$morph\+To\+Many}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Models\textbackslash{}\+Badge\+::\$morph\+To\+Many}\label{classDMA_1_1Friends_1_1Models_1_1Badge_a2efb4ca933422dfb4ca416676d73cad0}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= [
        \textcolor{stringliteral}{'categories'}    => [\textcolor{stringliteral}{'DMA\(\backslash\)Friends\(\backslash\)Models\(\backslash\)Category'}, 
            \textcolor{stringliteral}{'name'}  => \textcolor{stringliteral}{'object'}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Models_1_1Badge_ab750ee2c75af273ca930a12b1a20b3ae}{}\index{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}!\$rules@{\$rules}}
\index{\$rules@{\$rules}!D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge@{D\+M\+A\+::\+Friends\+::\+Models\+::\+Badge}}
\subsubsection[{\$rules}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Models\textbackslash{}\+Badge\+::\$rules}\label{classDMA_1_1Friends_1_1Models_1_1Badge_ab750ee2c75af273ca930a12b1a20b3ae}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= [ 
        \textcolor{stringliteral}{'title'} => \textcolor{stringliteral}{'required'}
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
models/Badge.\+php\end{DoxyCompactItemize}
