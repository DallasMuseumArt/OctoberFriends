\hypertarget{classDMA_1_1Friends_1_1Classes_1_1PrintManager}{}\section{D\+M\+A\textbackslash{}Friends\textbackslash{}Classes\textbackslash{}Print\+Manager Class Reference}
\label{classDMA_1_1Friends_1_1Classes_1_1PrintManager}\index{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Print\+Manager@{D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Print\+Manager}}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a030f6bbbecf05585a2b111795a6d620f}{\+\_\+\+\_\+construct} (\hyperlink{classDMA_1_1Friends_1_1Models_1_1Location}{Location} \$location, User \$user)
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a452bdf8905705bfce94858e232a02d81}{init} (\$width, \$height, \$orientation)
\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a33e78affc297db7883ecae4e54f76575}{}{\bfseries do\+Print} (\$printer)\label{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a33e78affc297db7883ecae4e54f76575}

\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a036da54763a007f23c7f477562c47783}{print\+Id\+Card} ()
\item 
\hyperlink{classDMA_1_1Friends_1_1Classes_1_1PrintManager_ab4e5b921c0745a197bb2755145ca78f0}{print\+Coupon} (\hyperlink{classDMA_1_1Friends_1_1Models_1_1Reward}{Reward} \$reward)
\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a68d263e00a4c7d78c60d4d69bc335fdf}{}{\bfseries get\+Logo\+Path} ()\label{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a68d263e00a4c7d78c60d4d69bc335fdf}

\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1PrintManager_aaf6b4e801f6ebe1c4c3a0266f7de24cf}{}{\bfseries \$logo} = \textquotesingle{}/assets/images/printer\+\_\+logo.\+png\textquotesingle{}\label{classDMA_1_1Friends_1_1Classes_1_1PrintManager_aaf6b4e801f6ebe1c4c3a0266f7de24cf}

\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a8baa63d70f51fb84afbd43429d22db91}{}{\bfseries \$pdf}\label{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a8baa63d70f51fb84afbd43429d22db91}

\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1PrintManager_add8d017654b878aaefc06404832206b1}{}{\bfseries \$location}\label{classDMA_1_1Friends_1_1Classes_1_1PrintManager_add8d017654b878aaefc06404832206b1}

\item 
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a51d1a57c5cd9c8f915fe47d0984bcc7e}{}{\bfseries \$user}\label{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a51d1a57c5cd9c8f915fe47d0984bcc7e}

\end{DoxyCompactItemize}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a030f6bbbecf05585a2b111795a6d620f}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager}!\+\_\+\+\_\+construct@{\+\_\+\+\_\+construct}}
\index{\+\_\+\+\_\+construct@{\+\_\+\+\_\+construct}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager}}
\subsubsection[{\+\_\+\+\_\+construct}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Print\+Manager\+::\+\_\+\+\_\+construct (
\begin{DoxyParamCaption}
\item[{{\bf Location}}]{\$location, }
\item[{User}]{\$user}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a030f6bbbecf05585a2b111795a6d620f}

\begin{DoxyParams}[1]{Parameters}
Location & {\em \$location} & A location model that contains information about printers \\
\hline
User & {\em \$user} & The user model that is trying to print \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
32     \{
33         $this->location = $location;
34         $this->user = $user;
35     \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a452bdf8905705bfce94858e232a02d81}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager}!init@{init}}
\index{init@{init}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Print\+Manager\+::init (
\begin{DoxyParamCaption}
\item[{}]{\$width, }
\item[{}]{\$height, }
\item[{}]{\$orientation}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a452bdf8905705bfce94858e232a02d81}
Initialize the P\+D\+F object, this M\+U\+S\+T be called for all print methods 
\begin{DoxyParams}[1]{Parameters}
integer & {\em \$width} & The width of the pdf to print \\
\hline
integer & {\em \$height} & The height of the pdf to print \\
\hline
string & {\em \$orientation} & One of two values
\begin{DoxyItemize}
\item \char`\"{}\+P\char`\"{} to print in portrait mode
\item \char`\"{}\+L\char`\"{} to print in landscape mode 
\end{DoxyItemize}\\
\hline
\end{DoxyParams}

\begin{DoxyCode}
49     \{
50         \textcolor{keywordflow}{if} (!$width || !$height || !$orientation)
51             \textcolor{keywordflow}{throw} \textcolor{keyword}{new} \hyperlink{namespaceSystemException}{SystemException}(Lang::get(\textcolor{stringliteral}{'
      dma.friends::lang.exceptions.printerSettingsMissing'}));
52         
53         $this->pdf = new \(\backslash\)PDF\_Code39($orientation, \textcolor{stringliteral}{"mm"}, [ $height, $width]);
54         $this->pdf->AddPage();
55     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1PrintManager_ab4e5b921c0745a197bb2755145ca78f0}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager}!print\+Coupon@{print\+Coupon}}
\index{print\+Coupon@{print\+Coupon}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager}}
\subsubsection[{print\+Coupon}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Print\+Manager\+::print\+Coupon (
\begin{DoxyParamCaption}
\item[{{\bf Reward}}]{\$reward}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Classes_1_1PrintManager_ab4e5b921c0745a197bb2755145ca78f0}
Print a valid coupon based on a reward 
\begin{DoxyParams}[1]{Parameters}
Reward & {\em \$reward} & The reward model that the coupon is being printed for \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
94     \{
95         $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a452bdf8905705bfce94858e232a02d81}{init}(
96             Settings::get(\textcolor{stringliteral}{'coupon\_width'}), 
97             Settings::get(\textcolor{stringliteral}{'coupon\_height'}), 
98             Settings::get(\textcolor{stringliteral}{'coupon\_orientation'})
99         );
100 
101         $expires = date( \textcolor{stringliteral}{'m-d-Y'}, strtotime( \textcolor{stringliteral}{"+"} . $reward->days\_valid .\textcolor{stringliteral}{" days"} ) );
102 
103         $logo = $this->getLogoPath();
104 
105         $this->pdf->Image($logo, 8, 1,-170);
106         
107         $this->pdf->Ln(14);     
108         $this->pdf->SetFont(\textcolor{stringliteral}{'Arial'}, \textcolor{charliteral}{'B'}, 6);
109         $this->pdf->setX(8);
110         $this->pdf->Write(4, $reward->fine\_print);
111         
112         $this->pdf->Ln(6);      
113         $this->pdf->SetFont(\textcolor{stringliteral}{'Arial'}, \textcolor{charliteral}{'B'}, 8);
114         $this->pdf->setY($this->pdf->getY());
115         $this->pdf->setX(7);
116         $this->pdf->Write(8, \textcolor{stringliteral}{"Expires: "} . $expires); \textcolor{comment}{//Expiration Date}
117         $this->pdf->Ln(7);      
118         $this->pdf->setX(8);
119         $this->pdf->Code39(8, $this->pdf->getY(), $reward->barcode);   \textcolor{comment}{//Bar Code}
120         $this->pdf->Ln(8);  
121         $this->pdf->setX(8);    
122         $this->pdf->SetFont(\textcolor{stringliteral}{'Arial'}, \textcolor{charliteral}{'B'}, 8);
123         $this->pdf->setY($this->pdf->getY()+8);     
124         
125         $this->pdf->setX(8);
126         $this->pdf->Write(8, Lang::get(\textcolor{stringliteral}{'dma.friends::lang.rewards.couponText'}));
127         
128         $this->pdf->setX(8);
129         $this->pdf->Write(14, \textcolor{stringliteral}{'      '});
130 
131         $this->doPrint($this->location->printer\_reward);
132 
133     \}
\end{DoxyCode}
\hypertarget{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a036da54763a007f23c7f477562c47783}{}\index{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager}!print\+Id\+Card@{print\+Id\+Card}}
\index{print\+Id\+Card@{print\+Id\+Card}!D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager@{D\+M\+A\+::\+Friends\+::\+Classes\+::\+Print\+Manager}}
\subsubsection[{print\+Id\+Card}]{\setlength{\rightskip}{0pt plus 5cm}D\+M\+A\textbackslash{}\+Friends\textbackslash{}\+Classes\textbackslash{}\+Print\+Manager\+::print\+Id\+Card (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a036da54763a007f23c7f477562c47783}
Print an identification card for a member 
\begin{DoxyCode}
70     \{
71         $this->\hyperlink{classDMA_1_1Friends_1_1Classes_1_1PrintManager_a452bdf8905705bfce94858e232a02d81}{init}(
72             Settings::get(\textcolor{stringliteral}{'membership\_width'}), 
73             Settings::get(\textcolor{stringliteral}{'membership\_height'}), 
74             Settings::get(\textcolor{stringliteral}{'membership\_orientation'})
75         );
76 
77         $name = $this->user->name;
78 
79         $this->pdf->SetFont(\textcolor{stringliteral}{'Arial'}, \textcolor{charliteral}{'B'}, 12);
80         $this->pdf->setX(1);
81         $this->pdf->Write(21, $name);
82         
83         $this->pdf->Ln(17);     
84         $this->pdf->Code39(2, $this->pdf->getY(), $this->user->barcode\_id);   \textcolor{comment}{//Bar Code}
85         $this->doPrint($this->location->printer\_membership);
86     \}
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
classes/Print\+Manager.\+php\end{DoxyCompactItemize}
